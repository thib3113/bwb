import{O as Wt,m as Ut,g as Lt,a as $t,D as Bt,u as _t,an as Xe,b as t,aT as jt,aU as Kt,c as we,ak as _,d as Tt,s as ae,e as he,aV as Ie,aI as Te,l as z,aW as Gt,aX as Pe,aY as Yt,aZ as Xt,a_ as lt,a$ as Ze,a4 as Zt,Q as Ce,b0 as it,b1 as pt,b2 as qe,_ as qt,ae as dt,b3 as Jt,b4 as oe,al as Pt,h as be,i as fe,t as O,a3 as ze,b5 as It,b6 as zt,b7 as Rt,b8 as Ot,o as L,a2 as Qt,T as $,ac as er,b9 as tr,ba as rr,az as or,bb as ar,ab as nr,W as Dt,ai as me,n as H,Y as gt,a0 as ut,P as Et,aO as sr,bc as mt,bd as lr,a6 as ir,F as pe,I as At,aw as cr,H as ge,Z as ht,$ as bt,be as dr,w as ur,bf as pr,bg as ft}from"./index-CV5Pncwf.js";import{S as gr}from"./Stack-zcdykaYJ.js";import{E as mr}from"./Edit-DPtWc-dE.js";import{D as Mt}from"./Delete-hm5Z8dcN.js";import{T as hr,a as br,b as ct,c as te,d as fr}from"./TableRow-L5IQV8Rl.js";import{C as vr}from"./Chip-4BTcNYib.js";import{H as yr}from"./History-BAGphOaF.js";import{T as xr,a as We}from"./Tabs-BxBvvTQr.js";import{C as Sr}from"./Container-BxLeimKq.js";function kr(e){return Wt.toArray(e).filter(r=>Ut(r))}function wr(e){return Lt("MuiButtonGroup",e)}const p=$t("MuiButtonGroup",["root","contained","outlined","text","disableElevation","disabled","firstButton","fullWidth","horizontal","vertical","colorPrimary","colorSecondary","grouped","groupedHorizontal","groupedVertical","groupedText","groupedTextHorizontal","groupedTextVertical","groupedTextPrimary","groupedTextSecondary","groupedOutlined","groupedOutlinedHorizontal","groupedOutlinedVertical","groupedOutlinedPrimary","groupedOutlinedSecondary","groupedContained","groupedContainedHorizontal","groupedContainedVertical","groupedContainedPrimary","groupedContainedSecondary","lastButton","middleButton"]),Cr=(e,r)=>{const{ownerState:o}=e;return[{[`& .${p.grouped}`]:r.grouped},{[`& .${p.grouped}`]:r[`grouped${_(o.orientation)}`]},{[`& .${p.grouped}`]:r[`grouped${_(o.variant)}`]},{[`& .${p.grouped}`]:r[`grouped${_(o.variant)}${_(o.orientation)}`]},{[`& .${p.grouped}`]:r[`grouped${_(o.variant)}${_(o.color)}`]},{[`& .${p.firstButton}`]:r.firstButton},{[`& .${p.lastButton}`]:r.lastButton},{[`& .${p.middleButton}`]:r.middleButton},r.root,r[o.variant],o.disableElevation===!0&&r.disableElevation,o.fullWidth&&r.fullWidth,o.orientation==="vertical"&&r.vertical]},Lr=e=>{const{classes:r,color:o,disabled:a,disableElevation:n,fullWidth:i,orientation:m,variant:d}=e,c={root:["root",d,m,i&&"fullWidth",n&&"disableElevation",`color${_(o)}`],grouped:["grouped",`grouped${_(m)}`,`grouped${_(d)}`,`grouped${_(d)}${_(m)}`,`grouped${_(d)}${_(o)}`,a&&"disabled"],firstButton:["firstButton"],lastButton:["lastButton"],middleButton:["middleButton"]};return Tt(c,wr,r)},$r=ae("div",{name:"MuiButtonGroup",slot:"Root",overridesResolver:Cr})(he(({theme:e})=>({display:"inline-flex",borderRadius:(e.vars||e).shape.borderRadius,variants:[{props:{variant:"contained"},style:{boxShadow:(e.vars||e).shadows[2],[`& .${p.grouped}`]:{boxShadow:"none","&:hover":{boxShadow:"none"}}}},{props:{disableElevation:!0},style:{boxShadow:"none"}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{orientation:"vertical"},style:{flexDirection:"column",[`& .${p.lastButton},& .${p.middleButton}`]:{borderTopRightRadius:0,borderTopLeftRadius:0},[`& .${p.firstButton},& .${p.middleButton}`]:{borderBottomRightRadius:0,borderBottomLeftRadius:0}}},{props:{orientation:"horizontal"},style:{[`& .${p.firstButton},& .${p.middleButton}`]:{borderTopRightRadius:0,borderBottomRightRadius:0},[`& .${p.lastButton},& .${p.middleButton}`]:{borderTopLeftRadius:0,borderBottomLeftRadius:0}}},{props:{variant:"text",orientation:"horizontal"},style:{[`& .${p.firstButton},& .${p.middleButton}`]:{borderRight:e.vars?`1px solid ${e.alpha(e.vars.palette.common.onBackground,.23)}`:`1px solid ${e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`,[`&.${p.disabled}`]:{borderRight:`1px solid ${(e.vars||e).palette.action.disabled}`}}}},{props:{variant:"text",orientation:"vertical"},style:{[`& .${p.firstButton},& .${p.middleButton}`]:{borderBottom:e.vars?`1px solid ${e.alpha(e.vars.palette.common.onBackground,.23)}`:`1px solid ${e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`,[`&.${p.disabled}`]:{borderBottom:`1px solid ${(e.vars||e).palette.action.disabled}`}}}},...Object.entries(e.palette).filter(Ie()).flatMap(([r])=>[{props:{variant:"text",color:r},style:{[`& .${p.firstButton},& .${p.middleButton}`]:{borderColor:e.alpha((e.vars||e).palette[r].main,.5)}}}]),{props:{variant:"outlined",orientation:"horizontal"},style:{[`& .${p.firstButton},& .${p.middleButton}`]:{borderRightColor:"transparent","&:hover":{borderRightColor:"currentColor"}},[`& .${p.lastButton},& .${p.middleButton}`]:{marginLeft:-1}}},{props:{variant:"outlined",orientation:"vertical"},style:{[`& .${p.firstButton},& .${p.middleButton}`]:{borderBottomColor:"transparent","&:hover":{borderBottomColor:"currentColor"}},[`& .${p.lastButton},& .${p.middleButton}`]:{marginTop:-1}}},{props:{variant:"contained",orientation:"horizontal"},style:{[`& .${p.firstButton},& .${p.middleButton}`]:{borderRight:`1px solid ${(e.vars||e).palette.grey[400]}`,[`&.${p.disabled}`]:{borderRight:`1px solid ${(e.vars||e).palette.action.disabled}`}}}},{props:{variant:"contained",orientation:"vertical"},style:{[`& .${p.firstButton},& .${p.middleButton}`]:{borderBottom:`1px solid ${(e.vars||e).palette.grey[400]}`,[`&.${p.disabled}`]:{borderBottom:`1px solid ${(e.vars||e).palette.action.disabled}`}}}},...Object.entries(e.palette).filter(Ie(["dark"])).map(([r])=>({props:{variant:"contained",color:r},style:{[`& .${p.firstButton},& .${p.middleButton}`]:{borderColor:(e.vars||e).palette[r].dark}}}))],[`& .${p.grouped}`]:{minWidth:40}}))),Br=Bt(function(r,o){const a=_t({props:r,name:"MuiButtonGroup"}),{children:n,className:i,color:m="primary",component:d="div",disabled:c=!1,disableElevation:u=!1,disableFocusRipple:v=!1,disableRipple:S=!1,fullWidth:h=!1,orientation:R="horizontal",size:X="medium",variant:D="outlined",...Z}=a,f={...a,color:m,component:d,disabled:c,disableElevation:u,disableFocusRipple:v,disableRipple:S,fullWidth:h,orientation:R,size:X,variant:D},k=Lr(f),C=Xe(()=>({className:k.grouped,color:m,disabled:c,disableElevation:u,disableFocusRipple:v,disableRipple:S,fullWidth:h,size:X,variant:D}),[m,c,u,v,S,h,X,D,k.grouped]),E=kr(n),F=E.length,Re=Y=>{const q=Y===0,ne=Y===F-1;return q&&ne?"":q?k.firstButton:ne?k.lastButton:k.middleButton};return t($r,{as:d,role:"group",className:we(k.root,i),ref:o,ownerState:f,...Z,children:t(jt.Provider,{value:C,children:E.map((Y,q)=>t(Kt.Provider,{value:Re(q),children:Y},q))})})}),_r={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};function Tr(e,r,o=(a,n)=>a===n){return e.length===r.length&&e.every((a,n)=>o(a,r[n]))}const Pr=2;function ke(e,r,o,a,n){return o===1?Math.min(e+r,n):Math.max(e-r,a)}function Nt(e,r){return e-r}function vt(e,r){const{index:o}=e.reduce((a,n,i)=>{const m=Math.abs(r-n);return a===null||m<a.distance||m===a.distance?{distance:m,index:i}:a},null)??{};return o}function Ue(e,r){if(r.current!==void 0&&e.changedTouches){const o=e;for(let a=0;a<o.changedTouches.length;a+=1){const n=o.changedTouches[a];if(n.identifier===r.current)return{x:n.clientX,y:n.clientY}}return!1}return{x:e.clientX,y:e.clientY}}function Je(e,r,o){return(e-r)*100/(o-r)}function Ir(e,r,o){return(o-r)*e+r}function zr(e){if(Math.abs(e)<1){const o=e.toExponential().split("e-"),a=o[0].split(".")[1];return(a?a.length:0)+parseInt(o[1],10)}const r=e.toString().split(".")[1];return r?r.length:0}function Rr(e,r,o){const a=Math.round((e-o)/r)*r+o;return Number(a.toFixed(zr(r)))}function yt({values:e,newValue:r,index:o}){const a=e.slice();return a[o]=r,a.sort(Nt)}function je({sliderRef:e,activeIndex:r,setActive:o}){const a=Ze(e.current);(!e.current?.contains(a.activeElement)||Number(a?.activeElement?.getAttribute("data-index"))!==r)&&e.current?.querySelector(`[type="range"][data-index="${r}"]`).focus(),o&&o(r)}function Ke(e,r){return typeof e=="number"&&typeof r=="number"?e===r:typeof e=="object"&&typeof r=="object"?Tr(e,r):!1}const Or={horizontal:{offset:e=>({left:`${e}%`}),leap:e=>({width:`${e}%`})},"horizontal-reverse":{offset:e=>({right:`${e}%`}),leap:e=>({width:`${e}%`})},vertical:{offset:e=>({bottom:`${e}%`}),leap:e=>({height:`${e}%`})}},Dr=e=>e;let Ge;function xt(){return Ge===void 0&&(typeof CSS<"u"&&typeof CSS.supports=="function"?Ge=CSS.supports("touch-action","none"):Ge=!0),Ge}function Er(e){const{"aria-labelledby":r,defaultValue:o,disabled:a=!1,disableSwap:n=!1,isRtl:i=!1,marks:m=!1,max:d=100,min:c=0,name:u,onChange:v,onChangeCommitted:S,orientation:h="horizontal",rootRef:R,scale:X=Dr,step:D=1,shiftStep:Z=10,tabIndex:f,value:k}=e,C=Te(void 0),[E,F]=z(-1),[Re,Y]=z(-1),[q,ne]=z(!1),ve=Te(0),Le=Te(null),[j,W]=Gt({controlled:k,default:o??c,name:"Slider"}),A=v&&((l,s,g)=>{const x=l.nativeEvent||l,y=new x.constructor(x.type,x);Object.defineProperty(y,"target",{writable:!0,value:{value:s,name:u}}),Le.current=s,v(y,s,g)}),ye=Array.isArray(j);let T=ye?j.slice().sort(Nt):[j];T=T.map(l=>l==null?c:Pe(l,c,d));const $e=m===!0&&D!==null?[...Array(Math.floor((d-c)/D)+1)].map((l,s)=>({value:c+D*s})):m||[],B=$e.map(l=>l.value),[re,xe]=z(-1),w=Te(null),se=Yt(R,w),Qe=l=>s=>{const g=Number(s.currentTarget.getAttribute("data-index"));pt(s.target)&&xe(g),Y(g),l?.onFocus?.(s)},et=l=>s=>{pt(s.target)||xe(-1),Y(-1),l?.onBlur?.(s)},Oe=(l,s)=>{const g=Number(l.currentTarget.getAttribute("data-index")),x=T[g],y=B.indexOf(x);let b=s;if($e&&D==null){const U=B[B.length-1];b>=U?b=U:b<=B[0]?b=B[0]:b=b<x?B[y-1]:B[y+1]}if(b=Pe(b,c,d),ye){n&&(b=Pe(b,T[g-1]||-1/0,T[g+1]||1/0));const U=b;b=yt({values:T,newValue:b,index:g});let K=g;n||(K=b.indexOf(U)),je({sliderRef:w,activeIndex:K})}W(b),xe(g),A&&!Ke(b,j)&&A(l,b,g),S&&S(l,Le.current??b)},tt=l=>s=>{if(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","PageUp","PageDown","Home","End"].includes(s.key)){s.preventDefault();const g=Number(s.currentTarget.getAttribute("data-index")),x=T[g];let y=null;if(D!=null){const b=s.shiftKey?Z:D;switch(s.key){case"ArrowUp":y=ke(x,b,1,c,d);break;case"ArrowRight":y=ke(x,b,i?-1:1,c,d);break;case"ArrowDown":y=ke(x,b,-1,c,d);break;case"ArrowLeft":y=ke(x,b,i?1:-1,c,d);break;case"PageUp":y=ke(x,Z,1,c,d);break;case"PageDown":y=ke(x,Z,-1,c,d);break;case"Home":y=c;break;case"End":y=d;break}}else if($e){const b=B[B.length-1],U=B.indexOf(x),K=[i?"ArrowRight":"ArrowLeft","ArrowDown","PageDown","Home"],I=[i?"ArrowLeft":"ArrowRight","ArrowUp","PageUp","End"];K.includes(s.key)?U===0?y=B[0]:y=B[U-1]:I.includes(s.key)&&(U===B.length-1?y=b:y=B[U+1])}y!=null&&Oe(s,y)}l?.onKeyDown?.(s)};Xt(()=>{a&&w.current.contains(document.activeElement)&&document.activeElement?.blur()},[a]),a&&E!==-1&&F(-1),a&&re!==-1&&xe(-1);const De=l=>s=>{l.onChange?.(s),Oe(s,s.target.valueAsNumber)},le=Te(void 0);let ie=h;i&&h==="horizontal"&&(ie+="-reverse");const ce=({finger:l,move:s=!1})=>{const{current:g}=w,{width:x,height:y,bottom:b,left:U}=g.getBoundingClientRect();let K;ie.startsWith("vertical")?K=(b-l.y)/y:K=(l.x-U)/x,ie.includes("-reverse")&&(K=1-K);let I;if(I=Ir(K,c,d),D)I=Rr(I,D,c);else{const _e=vt(B,I);I=B[_e]}I=Pe(I,c,d);let Q=0;if(ye){s?Q=le.current:Q=vt(T,I),n&&(I=Pe(I,T[Q-1]||-1/0,T[Q+1]||1/0));const _e=I;I=yt({values:T,newValue:I,index:Q}),n&&s||(Q=I.indexOf(_e),le.current=Q)}return{newValue:I,activeIndex:Q}},de=lt(l=>{const s=Ue(l,C);if(!s)return;if(ve.current+=1,l.type==="mousemove"&&l.buttons===0){J(l);return}const{newValue:g,activeIndex:x}=ce({finger:s,move:!0});je({sliderRef:w,activeIndex:x,setActive:F}),W(g),!q&&ve.current>Pr&&ne(!0),A&&!Ke(g,j)&&A(l,g,x)}),J=lt(l=>{const s=Ue(l,C);if(ne(!1),!s)return;const{newValue:g}=ce({finger:s,move:!0});F(-1),l.type==="touchend"&&Y(-1),S&&S(l,Le.current??g),C.current=void 0,ue()}),N=lt(l=>{if(a)return;xt()||l.preventDefault();const s=l.changedTouches[0];s!=null&&(C.current=s.identifier);const g=Ue(l,C);if(g!==!1){const{newValue:y,activeIndex:b}=ce({finger:g});je({sliderRef:w,activeIndex:b,setActive:F}),W(y),A&&!Ke(y,j)&&A(l,y,b)}ve.current=0;const x=Ze(w.current);x.addEventListener("touchmove",de,{passive:!0}),x.addEventListener("touchend",J,{passive:!0})}),ue=Zt(()=>{const l=Ze(w.current);l.removeEventListener("mousemove",de),l.removeEventListener("mouseup",J),l.removeEventListener("touchmove",de),l.removeEventListener("touchend",J)},[J,de]);Ce(()=>{const{current:l}=w;return l.addEventListener("touchstart",N,{passive:xt()}),()=>{l.removeEventListener("touchstart",N),ue()}},[ue,N]),Ce(()=>{a&&ue()},[a,ue]);const rt=l=>s=>{if(l.onMouseDown?.(s),a||s.defaultPrevented||s.button!==0)return;s.preventDefault();const g=Ue(s,C);if(g!==!1){const{newValue:y,activeIndex:b}=ce({finger:g});je({sliderRef:w,activeIndex:b,setActive:F}),W(y),A&&!Ke(y,j)&&A(s,y,b)}ve.current=0;const x=Ze(w.current);x.addEventListener("mousemove",de,{passive:!0}),x.addEventListener("mouseup",J)},Ee=Je(ye?T[0]:c,c,d),V=Je(T[T.length-1],c,d)-Ee,Be=(l={})=>{const s=it(l),g={onMouseDown:rt(s||{})},x={...s,...g};return{...l,ref:se,...x}},Ae=l=>s=>{l.onMouseOver?.(s);const g=Number(s.currentTarget.getAttribute("data-index"));Y(g)},Me=l=>s=>{l.onMouseLeave?.(s),Y(-1)},Ne=(l={})=>{const s=it(l),g={onMouseOver:Ae(s||{}),onMouseLeave:Me(s||{})};return{...l,...s,...g}},Ve=l=>({pointerEvents:E!==-1&&E!==l?"none":void 0});let Se;return h==="vertical"&&(Se=i?"vertical-rl":"vertical-lr"),{active:E,axis:ie,axisProps:Or,dragging:q,focusedThumbIndex:re,getHiddenInputProps:(l={})=>{const s=it(l),g={onChange:De(s||{}),onFocus:Qe(s||{}),onBlur:et(s||{}),onKeyDown:tt(s||{})},x={...s,...g};return{tabIndex:f,"aria-labelledby":r,"aria-orientation":h,"aria-valuemax":X(d),"aria-valuemin":X(c),name:u,type:"range",min:e.min,max:e.max,step:e.step===null&&e.marks?"any":e.step??void 0,disabled:a,...l,...x,style:{..._r,direction:i?"rtl":"ltr",width:"100%",height:"100%",writingMode:Se}}},getRootProps:Be,getThumbProps:Ne,marks:$e,open:Re,range:ye,rootRef:se,trackLeap:V,trackOffset:Ee,values:T,getThumbStyle:Ve}}const Ar=e=>!e||!qe(e);function Mr(e){return Lt("MuiSlider",e)}const G=$t("MuiSlider",["root","active","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","disabled","dragging","focusVisible","mark","markActive","marked","markLabel","markLabelActive","rail","sizeSmall","thumb","thumbColorPrimary","thumbColorSecondary","thumbColorError","thumbColorSuccess","thumbColorInfo","thumbColorWarning","track","trackInverted","trackFalse","thumbSizeSmall","valueLabel","valueLabelOpen","valueLabelCircle","valueLabelLabel","vertical"]),Nr=e=>{const{open:r}=e;return{offset:we(r&&G.valueLabelOpen),circle:G.valueLabelCircle,label:G.valueLabelLabel}};function Vr(e){const{children:r,className:o,value:a}=e,n=Nr(e);return r?qt(r,{className:r.props.className},t(dt,{children:[r.props.children,t("span",{className:we(n.offset,o),"aria-hidden":!0,children:t("span",{className:n.circle,children:t("span",{className:n.label,children:a})})})]})):null}function St(e){return e}const Hr=ae("span",{name:"MuiSlider",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:o}=e;return[r.root,r[`color${_(o.color)}`],o.size!=="medium"&&r[`size${_(o.size)}`],o.marked&&r.marked,o.orientation==="vertical"&&r.vertical,o.track==="inverted"&&r.trackInverted,o.track===!1&&r.trackFalse]}})(he(({theme:e})=>({borderRadius:12,boxSizing:"content-box",display:"inline-block",position:"relative",cursor:"pointer",touchAction:"none",WebkitTapHighlightColor:"transparent","@media print":{colorAdjust:"exact"},[`&.${G.disabled}`]:{pointerEvents:"none",cursor:"default",color:(e.vars||e).palette.grey[400]},[`&.${G.dragging}`]:{[`& .${G.thumb}, & .${G.track}`]:{transition:"none"}},variants:[...Object.entries(e.palette).filter(Ie()).map(([r])=>({props:{color:r},style:{color:(e.vars||e).palette[r].main}})),{props:{orientation:"horizontal"},style:{height:4,width:"100%",padding:"13px 0","@media (pointer: coarse)":{padding:"20px 0"}}},{props:{orientation:"horizontal",size:"small"},style:{height:2}},{props:{orientation:"horizontal",marked:!0},style:{marginBottom:20}},{props:{orientation:"vertical"},style:{height:"100%",width:4,padding:"0 13px","@media (pointer: coarse)":{padding:"0 20px"}}},{props:{orientation:"vertical",size:"small"},style:{width:2}},{props:{orientation:"vertical",marked:!0},style:{marginRight:44}}]}))),Fr=ae("span",{name:"MuiSlider",slot:"Rail"})({display:"block",position:"absolute",borderRadius:"inherit",backgroundColor:"currentColor",opacity:.38,variants:[{props:{orientation:"horizontal"},style:{width:"100%",height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{height:"100%",width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:"inverted"},style:{opacity:1}}]}),Wr=ae("span",{name:"MuiSlider",slot:"Track"})(he(({theme:e})=>({display:"block",position:"absolute",borderRadius:"inherit",border:"1px solid currentColor",backgroundColor:"currentColor",transition:e.transitions.create(["left","width","bottom","height"],{duration:e.transitions.duration.shortest}),variants:[{props:{size:"small"},style:{border:"none"}},{props:{orientation:"horizontal"},style:{height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:!1},style:{display:"none"}},...Object.entries(e.palette).filter(Ie()).map(([r])=>({props:{color:r,track:"inverted"},style:{...e.vars?{backgroundColor:e.vars.palette.Slider[`${r}Track`],borderColor:e.vars.palette.Slider[`${r}Track`]}:{backgroundColor:e.lighten(e.palette[r].main,.62),borderColor:e.lighten(e.palette[r].main,.62),...e.applyStyles("dark",{backgroundColor:e.darken(e.palette[r].main,.5)}),...e.applyStyles("dark",{borderColor:e.darken(e.palette[r].main,.5)})}}}))]}))),Ur=ae("span",{name:"MuiSlider",slot:"Thumb",overridesResolver:(e,r)=>{const{ownerState:o}=e;return[r.thumb,r[`thumbColor${_(o.color)}`],o.size!=="medium"&&r[`thumbSize${_(o.size)}`]]}})(he(({theme:e})=>({position:"absolute",width:20,height:20,boxSizing:"border-box",borderRadius:"50%",outline:0,backgroundColor:"currentColor",display:"flex",alignItems:"center",justifyContent:"center",transition:e.transitions.create(["box-shadow","left","bottom"],{duration:e.transitions.duration.shortest}),"&::before":{position:"absolute",content:'""',borderRadius:"inherit",width:"100%",height:"100%",boxShadow:(e.vars||e).shadows[2]},"&::after":{position:"absolute",content:'""',borderRadius:"50%",width:42,height:42,top:"50%",left:"50%",transform:"translate(-50%, -50%)"},[`&.${G.disabled}`]:{"&:hover":{boxShadow:"none"}},variants:[{props:{size:"small"},style:{width:12,height:12,"&::before":{boxShadow:"none"}}},{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-50%, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 50%)"}},...Object.entries(e.palette).filter(Ie()).map(([r])=>({props:{color:r},style:{[`&:hover, &.${G.focusVisible}`]:{boxShadow:`0px 0px 0px 8px ${e.alpha((e.vars||e).palette[r].main,.16)}`,"@media (hover: none)":{boxShadow:"none"}},[`&.${G.active}`]:{boxShadow:`0px 0px 0px 14px ${e.alpha((e.vars||e).palette[r].main,.16)}`}}}))]}))),jr=ae(Vr,{name:"MuiSlider",slot:"ValueLabel"})(he(({theme:e})=>({zIndex:1,whiteSpace:"nowrap",...e.typography.body2,fontWeight:500,transition:e.transitions.create(["transform"],{duration:e.transitions.duration.shortest}),position:"absolute",backgroundColor:(e.vars||e).palette.grey[600],borderRadius:2,color:(e.vars||e).palette.common.white,display:"flex",alignItems:"center",justifyContent:"center",padding:"0.25rem 0.75rem",variants:[{props:{orientation:"horizontal"},style:{transform:"translateY(-100%) scale(0)",top:"-10px",transformOrigin:"bottom center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, 50%) rotate(45deg)",backgroundColor:"inherit",bottom:0,left:"50%"},[`&.${G.valueLabelOpen}`]:{transform:"translateY(-100%) scale(1)"}}},{props:{orientation:"vertical"},style:{transform:"translateY(-50%) scale(0)",right:"30px",top:"50%",transformOrigin:"right center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, -50%) rotate(45deg)",backgroundColor:"inherit",right:-8,top:"50%"},[`&.${G.valueLabelOpen}`]:{transform:"translateY(-50%) scale(1)"}}},{props:{size:"small"},style:{fontSize:e.typography.pxToRem(12),padding:"0.25rem 0.5rem"}},{props:{orientation:"vertical",size:"small"},style:{right:"20px"}}]}))),Kr=ae("span",{name:"MuiSlider",slot:"Mark",shouldForwardProp:e=>Pt(e)&&e!=="markActive",overridesResolver:(e,r)=>{const{markActive:o}=e;return[r.mark,o&&r.markActive]}})(he(({theme:e})=>({position:"absolute",width:2,height:2,borderRadius:1,backgroundColor:"currentColor",variants:[{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-1px, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 1px)"}},{props:{markActive:!0},style:{backgroundColor:(e.vars||e).palette.background.paper,opacity:.8}}]}))),Gr=ae("span",{name:"MuiSlider",slot:"MarkLabel",shouldForwardProp:e=>Pt(e)&&e!=="markLabelActive"})(he(({theme:e})=>({...e.typography.body2,color:(e.vars||e).palette.text.secondary,position:"absolute",whiteSpace:"nowrap",variants:[{props:{orientation:"horizontal"},style:{top:30,transform:"translateX(-50%)","@media (pointer: coarse)":{top:40}}},{props:{orientation:"vertical"},style:{left:36,transform:"translateY(50%)","@media (pointer: coarse)":{left:44}}},{props:{markLabelActive:!0},style:{color:(e.vars||e).palette.text.primary}}]}))),Yr=e=>{const{disabled:r,dragging:o,marked:a,orientation:n,track:i,classes:m,color:d,size:c}=e,u={root:["root",r&&"disabled",o&&"dragging",a&&"marked",n==="vertical"&&"vertical",i==="inverted"&&"trackInverted",i===!1&&"trackFalse",d&&`color${_(d)}`,c&&`size${_(c)}`],rail:["rail"],track:["track"],mark:["mark"],markActive:["markActive"],markLabel:["markLabel"],markLabelActive:["markLabelActive"],valueLabel:["valueLabel"],thumb:["thumb",r&&"disabled",c&&`thumbSize${_(c)}`,d&&`thumbColor${_(d)}`],active:["active"],disabled:["disabled"],focusVisible:["focusVisible"]};return Tt(u,Mr,m)},Xr=({children:e})=>e,Zr=Bt(function(r,o){const a=_t({props:r,name:"MuiSlider"}),n=Jt(),{"aria-label":i,"aria-valuetext":m,"aria-labelledby":d,component:c="span",components:u={},componentsProps:v={},color:S="primary",classes:h,className:R,disableSwap:X=!1,disabled:D=!1,getAriaLabel:Z,getAriaValueText:f,marks:k=!1,max:C=100,min:E=0,name:F,onChange:Re,onChangeCommitted:Y,orientation:q="horizontal",shiftStep:ne=10,size:ve="medium",step:Le=1,scale:j=St,slotProps:W,slots:A,tabIndex:ye,track:T="normal",value:$e,valueLabelDisplay:B="off",valueLabelFormat:re=St,...xe}=a,w={...a,isRtl:n,max:C,min:E,classes:h,disabled:D,disableSwap:X,orientation:q,marks:k,color:S,size:ve,step:Le,shiftStep:ne,scale:j,track:T,valueLabelDisplay:B,valueLabelFormat:re},{axisProps:se,getRootProps:Qe,getHiddenInputProps:et,getThumbProps:Oe,open:tt,active:De,axis:le,focusedThumbIndex:ie,range:ce,dragging:de,marks:J,values:N,trackOffset:ue,trackLeap:rt,getThumbStyle:Ee}=Er({...w,rootRef:o});w.marked=J.length>0&&J.some(P=>P.label),w.dragging=de,w.focusedThumbIndex=ie;const V=Yr(w),Be=A?.root??u.Root??Hr,Ae=A?.rail??u.Rail??Fr,Me=A?.track??u.Track??Wr,Ne=A?.thumb??u.Thumb??Ur,Ve=A?.valueLabel??u.ValueLabel??jr,Se=A?.mark??u.Mark??Kr,He=A?.markLabel??u.MarkLabel??Gr,l=A?.input??u.Input??"input",s=W?.root??v.root,g=W?.rail??v.rail,x=W?.track??v.track,y=W?.thumb??v.thumb,b=W?.valueLabel??v.valueLabel,U=W?.mark??v.mark,K=W?.markLabel??v.markLabel,I=W?.input??v.input,Q=oe({elementType:Be,getSlotProps:Qe,externalSlotProps:s,externalForwardedProps:xe,additionalProps:{...Ar(Be)&&{as:c}},ownerState:{...w,...s?.ownerState},className:[V.root,R]}),_e=oe({elementType:Ae,externalSlotProps:g,ownerState:w,className:V.rail}),Vt=oe({elementType:Me,externalSlotProps:x,additionalProps:{style:{...se[le].offset(ue),...se[le].leap(rt)}},ownerState:{...w,...x?.ownerState},className:V.track}),ot=oe({elementType:Ne,getSlotProps:Oe,externalSlotProps:y,ownerState:{...w,...y?.ownerState},className:V.thumb}),Ht=oe({elementType:Ve,externalSlotProps:b,ownerState:{...w,...b?.ownerState},className:V.valueLabel}),at=oe({elementType:Se,externalSlotProps:U,ownerState:w,className:V.mark}),nt=oe({elementType:He,externalSlotProps:K,ownerState:w,className:V.markLabel}),Ft=oe({elementType:l,getSlotProps:et,externalSlotProps:I,ownerState:w});return t(Be,{...Q,children:[t(Ae,{..._e}),t(Me,{...Vt}),J.filter(P=>P.value>=E&&P.value<=C).map((P,M)=>{const st=Je(P.value,E,C),Fe=se[le].offset(st);let ee;return T===!1?ee=N.includes(P.value):ee=T==="normal"&&(ce?P.value>=N[0]&&P.value<=N[N.length-1]:P.value<=N[0])||T==="inverted"&&(ce?P.value<=N[0]||P.value>=N[N.length-1]:P.value>=N[0]),t(dt,{children:[t(Se,{"data-index":M,...at,...!qe(Se)&&{markActive:ee},style:{...Fe,...at.style},className:we(at.className,ee&&V.markActive)}),P.label!=null?t(He,{"aria-hidden":!0,"data-index":M,...nt,...!qe(He)&&{markLabelActive:ee},style:{...Fe,...nt.style},className:we(V.markLabel,nt.className,ee&&V.markLabelActive),children:P.label}):null]},M)}),N.map((P,M)=>{const st=Je(P,E,C),Fe=se[le].offset(st),ee=B==="off"?Xr:Ve;return t(ee,{...!qe(ee)&&{valueLabelFormat:re,valueLabelDisplay:B,value:typeof re=="function"?re(j(P),M):re,index:M,open:tt===M||De===M||B==="on",disabled:D},...Ht,children:t(Ne,{"data-index":M,...ot,className:we(V.thumb,ot.className,De===M&&V.active,ie===M&&V.focusVisible),style:{...Fe,...Ee(M),...ot.style},children:t(l,{"data-index":M,"aria-label":Z?Z(M):i,"aria-valuenow":j(P),"aria-labelledby":d,"aria-valuetext":f?f(j(P),M):m,value:N[M],...Ft})})},M)})]})}),qr=be(t("path",{d:"M7.5 5.6 10 7 8.6 4.5 10 2 7.5 3.4 5 2l1.4 2.5L5 7zm12 9.8L17 14l1.4 2.5L17 19l2.5-1.4L22 19l-1.4-2.5L22 14zM22 2l-2.5 1.4L17 2l1.4 2.5L17 7l2.5-1.4L22 7l-1.4-2.5zm-7.63 5.29a.996.996 0 0 0-1.41 0L1.29 18.96c-.39.39-.39 1.02 0 1.41l2.34 2.34c.39.39 1.02.39 1.41 0L16.7 11.05c.39-.39.39-1.02 0-1.41zm-1.03 5.49-2.12-2.12 2.44-2.44 2.12 2.12z"})),Jr=be(t("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2m5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12z"})),Qr=be(t("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zm2.46-7.12 1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"})),kt=be(t("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2m-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2m3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1s3.1 1.39 3.1 3.1z"})),wt=be(t("path",{d:"M12 17c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m6-9h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6h1.9c0-1.71 1.39-3.1 3.1-3.1s3.1 1.39 3.1 3.1v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2m0 12H6V10h12z"})),eo=be(t("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3m3-10H5V5h10z"})),to=be(t("path",{d:"m12 16.5 4-4h-3v-9h-2v9H8zm9-13h-6v1.99h6v14.03H3V5.49h6V3.5H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2v-14c0-1.1-.9-2-2-2"})),ro=({tableName:e,item:r,primaryKey:o})=>{const[a,n]=O(z(!1),"isEditing"),[i,m]=O(z(JSON.stringify(r,null,2)),"editValue"),[d,c]=O(z(null),"error"),u=async()=>{try{const S=JSON.parse(i);await ze.table(e).put(S),n(!1),c(null)}catch(S){c(S instanceof Error?S.message:"Invalid JSON")}},v=async()=>{confirm("Are you sure you want to delete this record?")&&await ze.table(e).delete(o)};return a?t(L,{sx:{p:1},children:[t(Dt,{fullWidth:!0,multiline:!0,minRows:3,value:i,onChange:S=>m(S.target.value),variant:"outlined",size:"small",sx:{fontFamily:"monospace",mb:1}}),d&&t(me,{severity:"error",sx:{mb:1},children:d}),t(gr,{direction:"row",spacing:1,justifyContent:"flex-end",children:[t(H,{startIcon:t(Jr,{}),onClick:()=>{n(!1),m(JSON.stringify(r,null,2)),c(null)},size:"small",children:"Cancel"}),t(H,{startIcon:t(eo,{}),onClick:u,variant:"contained",size:"small",children:"Save"})]})]}):t(L,{children:[t(L,{sx:{display:"flex",justifyContent:"flex-end",mb:1},children:[t(gt,{size:"small",onClick:()=>n(!0),children:t(mr,{fontSize:"small"})}),t(gt,{size:"small",onClick:v,color:"error",children:t(Mt,{fontSize:"small"})})]}),t(L,{component:"pre",sx:{overflowX:"auto",fontSize:"0.75rem",m:0,p:1,bgcolor:"action.hover",borderRadius:1},children:JSON.stringify(r,null,2)})]})},oo=({tableName:e})=>{const{t:r}=fe(["settings"]),o=Qt(()=>ze.table(e).toArray(),[e]),n=ze.table(e).schema.primKey.name;return o?o.length===0?t($,{children:r("settings:developer.no_records")}):t(nr,{children:o.map((i,m)=>{const d=i[n];return t(er,{disablePadding:!0,children:t(tr,{sx:{width:"100%"},children:[t(rr,{expandIcon:t(or,{}),children:t($,{noWrap:!0,children:i.id||i.name||i.key||`Record ${m}`})}),t(ar,{children:t(ro,{tableName:e,item:i,primaryKey:d})})]})},d||m)})}):t($,{children:r("settings:developer.loading")})},ao=()=>{const{t:e}=fe(["settings"]),[r,o]=O(z(""),"selectedTable"),a=ze.tables.map(i=>i.name),n=i=>{o(i.target.value)};return t(L,{sx:{mt:2},children:[t(It,{fullWidth:!0,size:"small",sx:{mb:2},children:[t(zt,{children:e("settings:developer.select_table")}),t(Rt,{value:r,label:e("settings:developer.select_table"),onChange:n,children:a.map(i=>t(Ot,{value:i,children:i},i))})]}),r&&t(oo,{tableName:r})]})},no=()=>{const{t:e}=fe(["settings"]),{debugLogs:r,clearDebugLogs:o}=ut(),a=r.filter(i=>i.type==="packet").sort((i,m)=>new Date(m.timestamp).getTime()-new Date(i.timestamp).getTime()),n=i=>i===void 0?"UNKNOWN":sr[i]||`OP_${i.toString(16).toUpperCase()}`;return t(L,{sx:{mt:4},children:[t(L,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[t($,{variant:"h6",children:e("settings:developer.packet_logger_title")}),t(H,{variant:"outlined",color:"error",startIcon:t(Mt,{}),onClick:o,size:"small",children:e("settings:developer.clear_logs")})]}),t(Et,{variant:"outlined",sx:{width:"100%",overflow:"hidden"},children:t(L,{sx:{maxHeight:400,overflowY:"auto"},children:t(hr,{stickyHeader:!0,size:"small",children:[t(br,{children:t(ct,{children:[t(te,{children:"Time"}),t(te,{children:"Dir"}),t(te,{children:"Opcode"}),t(te,{children:"Payload (Hex)"})]})}),t(fr,{children:a.length>0?a.map(i=>t(ct,{hover:!0,children:[t(te,{sx:{whiteSpace:"nowrap",fontSize:"0.75rem"},children:new Date(i.timestamp).toLocaleTimeString([],{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit",fractionalSecondDigits:3})}),t(te,{children:t(vr,{label:i.direction,color:i.direction==="TX"?"primary":"success",size:"small",sx:{fontSize:"0.7rem",height:20}})}),t(te,{sx:{fontSize:"0.75rem",fontWeight:"bold"},children:n(i.opcode)}),t(te,{sx:{fontFamily:"monospace",fontSize:"0.75rem",wordBreak:"break-all"},children:i.payload||"-"})]},i.id)):t(ct,{children:t(te,{colSpan:4,align:"center",children:t($,{variant:"body2",color:"text.secondary",sx:{py:2},children:e("settings:developer.no_records")})})})})]})})})]})},so=e=>ir[e]||`UNKNOWN_OPCODE_${e}`,Ct={},lo=()=>{const{t:e}=fe(["settings"]),{sendPacket:r,isConnected:o}=ut(),[a,n]=O(z(""),"selectedOpcode"),[i,m]=O(z({}),"formData"),[d,c]=O(z(null),"validationError"),[u,v]=O(z(null),"successMessage"),S=O(Xe(()=>Array.from(mt.getRegisteredTXPackets().entries()).sort((f,k)=>f[0]-k[0]),[]),"registeredPackets"),h=O(Xe(()=>a===""?null:mt.getRegisteredTXPackets().get(a),[a]),"SelectedPacketClass"),R=O(Xe(()=>!h||!h.schema?null:h.schema instanceof lr?h.schema.shape:null,[h]),"schemaShape");Ce(()=>{if(!R){m({});return}const f={};Object.keys(R).forEach(k=>{f[k]=Ct[k]||""}),m(f)},[R]);const X=f=>{n(f.target.value),c(null),v(null)},D=(f,k)=>{m(C=>({...C,[f]:k})),Ct[f]=k,c(null),v(null)},Z=async()=>{if(h){c(null),v(null);try{let f={};if(h.schema){const C=h.schema.safeParse(i);if(!C.success){const E=C.error.errors.map(F=>`${F.path.join(".")}: ${F.message}`).join(", ");c(E);return}f=C.data}const k=new h;Object.assign(k,f),await r(k),console.log("Packet sent successfully",k),v(e("settings:developer.packet_sent_success"))}catch(f){console.error("Failed to send packet",f),c(f.message||e("settings:developer.packet_send_error"))}}};return t(L,{sx:{display:"flex",flexDirection:"column",gap:3},children:[t(me,{severity:o?"success":"warning",children:e(o?"settings:developer.enabled_success":"settings:developer.not_connected_warning")}),t(It,{fullWidth:!0,children:[t(zt,{children:e("settings:developer.packet_type_label")}),t(Rt,{value:a,label:e("settings:developer.packet_type_label"),onChange:X,children:S.map(([f])=>t(Ot,{value:f,children:[so(f)," (",f,")"]},f))})]}),h&&t(Et,{variant:"outlined",sx:{p:2},children:[t($,{variant:"h6",gutterBottom:!0,children:e("settings:developer.packet_parameters_title")}),t(L,{sx:{display:"flex",flexDirection:"column",gap:2},children:[R?Object.keys(R).length>0?Object.keys(R).map(f=>{const k=R[f];let C=!1;const E=k._def.typeName;return(E==="ZodNumber"||E==="ZodEffects"&&k._def.schema?._def.typeName==="ZodNumber")&&(C=!0),t(Dt,{label:f,variant:"outlined",fullWidth:!0,type:C?"number":"text",value:i[f]||"",onChange:F=>D(f,F.target.value),helperText:C?"Number":"String"},f)}):t($,{color:"text.secondary",children:e("settings:developer.no_parameters")}):t($,{color:"text.secondary",children:e("settings:developer.no_schema")}),d&&t(me,{severity:"error",children:d}),u&&t(me,{severity:"success",children:u}),t(H,{variant:"contained",onClick:Z,disabled:!o&&!window.BOKS_SIMULATOR_ENABLED,children:e("settings:developer.send_packet")})]})]}),t(no,{})]})},io=()=>{const{t:e}=fe(["settings"]),[r,o]=O(z([]),"registrations"),[a,n]=O(z(null),"message"),i=async()=>{if("serviceWorker"in navigator){const u=await navigator.serviceWorker.getRegistrations();o([...u])}};Ce(()=>{i()},[]);const m=async u=>{try{await u.update(),n(e("settings:developer.sw_update_requested")),i()}catch(v){n(e("settings:developer.sw_update_failed",{error:String(v)}))}},d=async u=>{try{const v=await u.unregister();n(e(v?"settings:developer.sw_unregister_success":"settings:developer.sw_unregister_failed")),i()}catch(v){n(e("settings:developer.sw_unregister_error",{error:String(v)}))}},c=()=>{window.location.reload()};return"serviceWorker"in navigator?t(ge,{sx:{mt:2},children:t(pe,{children:[t($,{variant:"h6",gutterBottom:!0,children:e("settings:developer.sw_title")}),t(At,{sx:{mb:2}}),a&&t(me,{severity:"info",sx:{mb:2},onClose:()=>n(null),children:a}),r.length===0?t($,{variant:"body2",color:"text.secondary",children:e("settings:developer.sw_no_active")}):r.map((u,v)=>t(L,{sx:{mb:2,p:1,border:"1px solid #ddd",borderRadius:1},children:[t($,{variant:"subtitle2",children:e("settings:developer.sw_scope",{scope:u.scope})}),t($,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:e("settings:developer.sw_status",{status:u.installing?e("settings:developer.sw_installing"):u.waiting?e("settings:developer.sw_waiting"):u.active?e("settings:developer.sw_active"):e("settings:developer.sw_unknown")})}),t(L,{sx:{display:"flex",gap:1,flexWrap:"wrap",mt:1},children:[t(H,{size:"small",variant:"outlined",startIcon:t(to,{}),onClick:()=>m(u),children:e("settings:developer.sw_check_update")}),t(H,{size:"small",variant:"outlined",color:"error",startIcon:t(Qr,{}),onClick:()=>d(u),children:e("settings:developer.sw_unregister")})]})]},v)),t(L,{sx:{mt:2},children:t(H,{fullWidth:!0,variant:"contained",color:"primary",startIcon:t(cr,{}),onClick:c,children:e("settings:developer.sw_reload")})})]})}):t(me,{severity:"warning",children:e("settings:developer.sw_not_supported")})},co=()=>{const{t:e}=fe(["settings"]),{toggleSimulator:r}=ut(),[o,a]=O(z(null),"simulator"),[n,i]=O(z(null),"state"),[m,d]=O(z(!1),"isEnabled"),[c,u]=O(z(!1),"isSimulatorRunning");Ce(()=>{const S=localStorage.getItem("BOKS_SIMULATOR_ENABLED")==="true";d(S);const h=window.boksSimulatorController;if(h){a(h),u(!0);const R=setInterval(()=>{i(h.getState())},500);return()=>clearInterval(R)}},[]);const v=(S,h)=>{d(h),r?(r(h),h?setTimeout(()=>{const R=window.boksSimulatorController;R&&(a(R),u(!0))},500):(u(!1),a(null))):(h?localStorage.setItem("BOKS_SIMULATOR_ENABLED","true"):localStorage.removeItem("BOKS_SIMULATOR_ENABLED"),window.location.reload())};return t(L,{sx:{p:2,display:"flex",flexDirection:"column",gap:2},children:[t($,{variant:"h6",gutterBottom:!0,children:e("settings:developer.simulator.title")}),t(ge,{variant:"outlined",sx:{mb:1},children:t(pe,{sx:{py:1,"&:last-child":{pb:1}},children:t(ht,{control:t(bt,{checked:m,onChange:v}),label:e("settings:developer.simulator.enable_simulator")})})}),!c&&t(me,{severity:"warning",children:e("settings:developer.simulator.not_active")}),c&&n&&t(dt,{children:[t(ge,{variant:"outlined",children:t(pe,{children:[t(L,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[t($,{variant:"subtitle1",sx:{display:"flex",alignItems:"center",gap:1},children:[n.isOpen?t(wt,{color:"warning"}):t(kt,{color:"success"}),e("settings:developer.simulator.status",{status:n.isOpen?e("settings:developer.simulator.open"):e("settings:developer.simulator.closed")})]}),t(ht,{control:t(bt,{checked:n.chaosMode,onChange:(S,h)=>o?.enableChaos(h),color:"secondary"}),label:t(L,{sx:{display:"flex",alignItems:"center",gap:.5},children:[t(qr,{fontSize:"small"})," ",e("settings:developer.simulator.chaos_mode")]})})]}),t(At,{sx:{my:1}}),t($,{variant:"body2",color:"text.secondary",gutterBottom:!0,sx:{mt:1},children:e("settings:developer.simulator.manual_triggers")}),t(Br,{fullWidth:!0,variant:"contained",size:"small",children:[t(H,{onClick:()=>o?.triggerDoorOpen("ble"),disabled:n.isOpen,startIcon:t(wt,{}),children:e("settings:developer.simulator.ble_open")}),t(H,{onClick:()=>o?.triggerDoorOpen("nfc"),disabled:n.isOpen,color:"info",children:e("settings:developer.simulator.nfc_open")}),t(H,{onClick:()=>o?.triggerDoorOpen("button"),disabled:n.isOpen,color:"warning",children:e("settings:developer.simulator.button_open")})]}),t(H,{fullWidth:!0,variant:"outlined",size:"small",sx:{mt:1},onClick:()=>o?.triggerDoorClose(),disabled:!n.isOpen,startIcon:t(kt,{}),children:e("settings:developer.simulator.force_close")})]})}),t(ge,{variant:"outlined",children:t(pe,{children:[t($,{variant:"subtitle2",sx:{display:"flex",alignItems:"center",gap:1,mb:1},children:[t(dr,{})," ",e("settings:developer.simulator.battery_level",{level:n.batteryLevel})]}),t(Zr,{value:n.batteryLevel,onChange:(S,h)=>o?.setBatteryLevel(h),valueLabelDisplay:"auto",min:0,max:100,size:"small"})]})}),t(ge,{variant:"outlined",children:t(pe,{children:[t(L,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[t($,{variant:"subtitle2",sx:{display:"flex",alignItems:"center",gap:1},children:[t(yr,{})," ",e("settings:developer.simulator.logs_count",{count:n.logs.length})]}),t(H,{size:"small",variant:"text",color:"error",onClick:()=>o?.reset(),children:e("settings:developer.simulator.reset")})]}),t(L,{sx:{mt:1,maxHeight:150,overflow:"auto",fontSize:"0.75rem",fontFamily:"monospace",bgcolor:"rgba(0,0,0,0.03)",p:1,borderRadius:1},children:n.logs.length===0?e("settings:developer.simulator.no_logs"):[...n.logs].reverse().map((S,h)=>t("div",{children:["[",new Date(S.timestamp).toLocaleTimeString(),"] Op: 0x",S.opcode.toString(16).toUpperCase()]},h))})]})})]})]})};function Ye(e){const{children:r,value:o,index:a,...n}=e;return t("div",{role:"tabpanel",hidden:o!==a,id:`simple-tabpanel-${a}`,"aria-labelledby":`simple-tab-${a}`,...n,children:o===a&&t(L,{sx:{p:2},children:r})})}const xo=()=>{const{t:e}=fe(["settings"]),r=ur(),{isDeveloperMode:o,disableDeveloperMode:a}=pr(),[n,i]=O(z(0),"tabValue");Ce(()=>{o||r("/")},[o,r]);const m=()=>{a(),r("/")},d=async()=>{try{confirm(e("settings:developer.mock_data_confirm"))&&(await ft.mockData(),alert(e("settings:developer.mock_data_success")))}catch(u){console.error(u),alert(e("settings:developer.mock_data_failed"))}},c=(u,v)=>{i(v)};return t(Sr,{maxWidth:"md",sx:{py:2},children:[t(L,{sx:{mb:3,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[t($,{variant:"h4",children:e("settings:developer.page_title")}),t(H,{variant:"outlined",color:"error",onClick:m,children:e("settings:developer.disable_mode")})]}),t(L,{sx:{borderBottom:1,borderColor:"divider"},children:t(xr,{value:n,onChange:c,"aria-label":"developer tabs",children:[t(We,{label:e("settings:developer.tabs.general")}),t(We,{label:e("settings:developer.tabs.database")}),t(We,{label:e("settings:developer.tabs.bluetooth")}),t(We,{label:e("settings:developer.tabs.simulator")})]})}),t(Ye,{value:n,index:0,children:t(io,{})}),t(Ye,{value:n,index:1,children:t(ge,{children:t(pe,{children:[t(L,{sx:{mb:4},children:[t(L,{sx:{display:"flex",gap:2},children:[t(H,{variant:"contained",onClick:d,children:e("settings:developer.load_mock_data")}),t(H,{variant:"outlined",color:"error",onClick:()=>{confirm(e("settings:developer.clear_db_confirm"))&&ft.clearAllData()},children:e("settings:developer.clear_db")})]}),t($,{variant:"caption",display:"block",color:"text.secondary",sx:{mt:1},children:e("settings:developer.mock_data_helper")})]}),t($,{variant:"h6",gutterBottom:!0,children:e("settings:developer.db_editor")}),t($,{variant:"body2",color:"text.secondary",paragraph:!0,children:e("settings:developer.db_editor_helper")}),t(ao,{})]})})}),t(Ye,{value:n,index:2,children:t(ge,{children:t(pe,{children:[t($,{variant:"h6",gutterBottom:!0,children:"Bluetooth Debugger"}),t(lo,{})]})})}),t(Ye,{value:n,index:3,children:t(co,{})})]})};export{xo as DeveloperPage};
