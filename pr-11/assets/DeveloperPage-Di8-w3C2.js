import{g as X,a as j,D as J,u as Q,f as p,T as l,b as e,d as Z,s as C,aW as f,t as k,l as w,aX as A,aY as q,aZ as G,a_ as ee,a$ as ae,o as y,b0 as te,aa as oe,b1 as re,b2 as se,ay as le,b3 as ne,a9 as ie,w as de,b4 as ce,Y as he,n as x,H as T,I as D,F as P,b5 as pe,b6 as ue,b7 as me}from"./index-Bwkbz3zP.js";import{C as be}from"./Container-D2hcQcJn.js";function ye(a){return X("MuiCardHeader",a)}const S=j("MuiCardHeader",["root","avatar","action","content","title","subheader"]),ge=a=>{const{classes:t}=a;return Z({root:["root"],avatar:["avatar"],action:["action"],content:["content"],title:["title"],subheader:["subheader"]},ye,t)},ve=C("div",{name:"MuiCardHeader",slot:"Root",overridesResolver:(a,t)=>[{[`& .${S.title}`]:t.title},{[`& .${S.subheader}`]:t.subheader},t.root]})({display:"flex",alignItems:"center",padding:16}),Se=C("div",{name:"MuiCardHeader",slot:"Avatar"})({display:"flex",flex:"0 0 auto",marginRight:16}),Ce=C("div",{name:"MuiCardHeader",slot:"Action"})({flex:"0 0 auto",alignSelf:"flex-start",marginTop:-4,marginRight:-8,marginBottom:-4}),fe=C("div",{name:"MuiCardHeader",slot:"Content"})({flex:"1 1 auto",[`.${f.root}:where(& .${S.title})`]:{display:"block"},[`.${f.root}:where(& .${S.subheader})`]:{display:"block"}}),M=J(function(t,r){const s=Q({props:t,name:"MuiCardHeader"}),{action:o,avatar:d,component:g="div",disableTypography:u=!1,subheader:n,subheaderTypographyProps:v,title:H,titleTypographyProps:B,slots:I={},slotProps:E={},...L}=s,i={...s,component:g,disableTypography:u},c=ge(i),h={slots:I,slotProps:{title:B,subheader:v,...E}};let m=H;const[R,N]=p("title",{className:c.title,elementType:l,externalForwardedProps:h,ownerState:i,additionalProps:{variant:d?"body2":"h5",component:"span"}});m!=null&&m.type!==l&&!u&&(m=e(R,{...N,children:m}));let b=n;const[O,$]=p("subheader",{className:c.subheader,elementType:l,externalForwardedProps:h,ownerState:i,additionalProps:{variant:d?"body2":"body1",color:"textSecondary",component:"span"}});b!=null&&b.type!==l&&!u&&(b=e(O,{...$,children:b}));const[U,_]=p("root",{ref:r,className:c.root,elementType:ve,externalForwardedProps:{...h,...L,component:g},ownerState:i}),[F,W]=p("avatar",{className:c.avatar,elementType:Se,externalForwardedProps:h,ownerState:i}),[K,Y]=p("content",{className:c.content,elementType:fe,externalForwardedProps:h,ownerState:i}),[z,V]=p("action",{className:c.action,elementType:Ce,externalForwardedProps:h,ownerState:i});return e(U,{..._,children:[d&&e(F,{...W,children:d}),e(K,{...Y,children:[m,b]}),o&&e(z,{...V,children:o})]})}),xe=({tableName:a})=>{const t=te(()=>A.table(a).toArray(),[a]);return t?t.length===0?e(l,{children:"No records found."}):e(ie,{children:t.map((r,s)=>e(oe,{disablePadding:!0,children:e(re,{sx:{width:"100%"},children:[e(se,{expandIcon:e(le,{}),children:e(l,{noWrap:!0,children:r.id||r.name||r.key||`Record ${s}`})}),e(ne,{children:e(y,{component:"pre",sx:{overflowX:"auto",fontSize:"0.75rem",m:0,p:1,bgcolor:"action.hover",borderRadius:1},children:JSON.stringify(r,null,2)})})]})},s))}):e(l,{children:"Loading..."})},Te=()=>{const[a,t]=k(w(""),"selectedTable"),r=A.tables.map(o=>o.name),s=o=>{t(o.target.value)};return e(y,{sx:{mt:2},children:[e(q,{fullWidth:!0,size:"small",sx:{mb:2},children:[e(G,{children:"Select Table"}),e(ee,{value:a,label:"Select Table",onChange:s,children:r.map(o=>e(ae,{value:o,children:o},o))})]}),a&&e(xe,{tableName:a})]})},Me=()=>{const a=de(),{isDeveloperMode:t,disableDeveloperMode:r}=ce(),[s,o]=k(w(!1),"simulatorEnabled");he(()=>{t||a("/");const n=localStorage.getItem("BOKS_SIMULATOR_ENABLED")==="true";o(n)},[t,a]);const d=()=>{r(),a("/")},g=n=>{const v=n.target.checked;o(v),v?localStorage.setItem("BOKS_SIMULATOR_ENABLED","true"):localStorage.removeItem("BOKS_SIMULATOR_ENABLED"),window.location.reload()},u=async()=>{try{confirm("This will wipe existing data for the mock device. Continue?")&&(await me.mockData(),alert("Mock data loaded successfully. You may need to refresh."))}catch(n){console.error(n),alert("Failed to load mock data")}};return e(be,{maxWidth:"md",sx:{py:2},children:[e(y,{sx:{mb:3,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e(l,{variant:"h4",children:"Developer Options"}),e(x,{variant:"outlined",color:"error",onClick:d,children:"Disable Dev Mode"})]}),e(T,{sx:{mb:3},children:[e(M,{title:"Simulators & Tools"}),e(D,{}),e(P,{children:e(y,{sx:{display:"flex",flexDirection:"column",gap:2},children:[e(pe,{control:e(ue,{checked:s,onChange:g}),label:"Enable Bluetooth Simulator (Reloads Page)"}),e(y,{children:[e(x,{variant:"contained",onClick:u,children:"Load Mock Data"}),e(l,{variant:"caption",display:"block",color:"text.secondary",sx:{mt:1},children:"Resets DB and loads test data for 'Mock Boks'."})]})]})})]}),e(T,{children:[e(M,{title:"Database Editor",subheader:"View and inspect local IndexedDB data"}),e(D,{}),e(P,{children:e(Te,{})})]})]})};export{Me as DeveloperPage};
