import{O as Wt,m as Ut,g as Ct,a as Lt,D as $t,u as Bt,an as Xe,b as t,aT as jt,aU as Kt,c as we,ak as _,d as _t,s as ae,e as he,aV as Ie,aI as Te,l as z,aW as Gt,aX as Pe,aY as Yt,aZ as Xt,a_ as it,a$ as Ze,a4 as Zt,Q as Ce,b0 as lt,b1 as ut,b2 as qe,_ as qt,ae as dt,b3 as Jt,b4 as oe,al as Tt,h as be,i as fe,t as R,a3 as ze,b5 as Pt,b6 as It,b7 as zt,b8 as Rt,o as L,a2 as Qt,T as $,ac as er,b9 as tr,ba as rr,az as or,bb as ar,ab as nr,W as Ot,ai as me,n as V,Y as pt,a0 as Dt,P as Et,aO as sr,bc as gt,bd as ir,a6 as lr,F as pe,I as At,aw as cr,H as ge,Z as mt,$ as ht,be as dr,w as ur,bf as pr,bg as bt}from"./index-CTdtxw1p.js";import{S as gr}from"./Stack-D-VNXToY.js";import{E as mr}from"./Edit-DFhl5gJ_.js";import{D as Mt}from"./Delete-4__YMGa6.js";import{T as hr,a as br,b as ct,c as te,d as fr}from"./TableRow-DBrQWLJE.js";import{C as vr}from"./Chip-CTsBEl1E.js";import{H as yr}from"./History-gpcZ0oCR.js";import{T as xr,a as We}from"./Tabs-DkuZigj2.js";import{C as kr}from"./Container-BKylgvGB.js";function Sr(e){return Wt.toArray(e).filter(r=>Ut(r))}function wr(e){return Ct("MuiButtonGroup",e)}const u=Lt("MuiButtonGroup",["root","contained","outlined","text","disableElevation","disabled","firstButton","fullWidth","horizontal","vertical","colorPrimary","colorSecondary","grouped","groupedHorizontal","groupedVertical","groupedText","groupedTextHorizontal","groupedTextVertical","groupedTextPrimary","groupedTextSecondary","groupedOutlined","groupedOutlinedHorizontal","groupedOutlinedVertical","groupedOutlinedPrimary","groupedOutlinedSecondary","groupedContained","groupedContainedHorizontal","groupedContainedVertical","groupedContainedPrimary","groupedContainedSecondary","lastButton","middleButton"]),Cr=(e,r)=>{const{ownerState:o}=e;return[{[`& .${u.grouped}`]:r.grouped},{[`& .${u.grouped}`]:r[`grouped${_(o.orientation)}`]},{[`& .${u.grouped}`]:r[`grouped${_(o.variant)}`]},{[`& .${u.grouped}`]:r[`grouped${_(o.variant)}${_(o.orientation)}`]},{[`& .${u.grouped}`]:r[`grouped${_(o.variant)}${_(o.color)}`]},{[`& .${u.firstButton}`]:r.firstButton},{[`& .${u.lastButton}`]:r.lastButton},{[`& .${u.middleButton}`]:r.middleButton},r.root,r[o.variant],o.disableElevation===!0&&r.disableElevation,o.fullWidth&&r.fullWidth,o.orientation==="vertical"&&r.vertical]},Lr=e=>{const{classes:r,color:o,disabled:a,disableElevation:l,fullWidth:i,orientation:h,variant:d}=e,c={root:["root",d,h,i&&"fullWidth",l&&"disableElevation",`color${_(o)}`],grouped:["grouped",`grouped${_(h)}`,`grouped${_(d)}`,`grouped${_(d)}${_(h)}`,`grouped${_(d)}${_(o)}`,a&&"disabled"],firstButton:["firstButton"],lastButton:["lastButton"],middleButton:["middleButton"]};return _t(c,wr,r)},$r=ae("div",{name:"MuiButtonGroup",slot:"Root",overridesResolver:Cr})(he(({theme:e})=>({display:"inline-flex",borderRadius:(e.vars||e).shape.borderRadius,variants:[{props:{variant:"contained"},style:{boxShadow:(e.vars||e).shadows[2],[`& .${u.grouped}`]:{boxShadow:"none","&:hover":{boxShadow:"none"}}}},{props:{disableElevation:!0},style:{boxShadow:"none"}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{orientation:"vertical"},style:{flexDirection:"column",[`& .${u.lastButton},& .${u.middleButton}`]:{borderTopRightRadius:0,borderTopLeftRadius:0},[`& .${u.firstButton},& .${u.middleButton}`]:{borderBottomRightRadius:0,borderBottomLeftRadius:0}}},{props:{orientation:"horizontal"},style:{[`& .${u.firstButton},& .${u.middleButton}`]:{borderTopRightRadius:0,borderBottomRightRadius:0},[`& .${u.lastButton},& .${u.middleButton}`]:{borderTopLeftRadius:0,borderBottomLeftRadius:0}}},{props:{variant:"text",orientation:"horizontal"},style:{[`& .${u.firstButton},& .${u.middleButton}`]:{borderRight:e.vars?`1px solid ${e.alpha(e.vars.palette.common.onBackground,.23)}`:`1px solid ${e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`,[`&.${u.disabled}`]:{borderRight:`1px solid ${(e.vars||e).palette.action.disabled}`}}}},{props:{variant:"text",orientation:"vertical"},style:{[`& .${u.firstButton},& .${u.middleButton}`]:{borderBottom:e.vars?`1px solid ${e.alpha(e.vars.palette.common.onBackground,.23)}`:`1px solid ${e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`,[`&.${u.disabled}`]:{borderBottom:`1px solid ${(e.vars||e).palette.action.disabled}`}}}},...Object.entries(e.palette).filter(Ie()).flatMap(([r])=>[{props:{variant:"text",color:r},style:{[`& .${u.firstButton},& .${u.middleButton}`]:{borderColor:e.alpha((e.vars||e).palette[r].main,.5)}}}]),{props:{variant:"outlined",orientation:"horizontal"},style:{[`& .${u.firstButton},& .${u.middleButton}`]:{borderRightColor:"transparent","&:hover":{borderRightColor:"currentColor"}},[`& .${u.lastButton},& .${u.middleButton}`]:{marginLeft:-1}}},{props:{variant:"outlined",orientation:"vertical"},style:{[`& .${u.firstButton},& .${u.middleButton}`]:{borderBottomColor:"transparent","&:hover":{borderBottomColor:"currentColor"}},[`& .${u.lastButton},& .${u.middleButton}`]:{marginTop:-1}}},{props:{variant:"contained",orientation:"horizontal"},style:{[`& .${u.firstButton},& .${u.middleButton}`]:{borderRight:`1px solid ${(e.vars||e).palette.grey[400]}`,[`&.${u.disabled}`]:{borderRight:`1px solid ${(e.vars||e).palette.action.disabled}`}}}},{props:{variant:"contained",orientation:"vertical"},style:{[`& .${u.firstButton},& .${u.middleButton}`]:{borderBottom:`1px solid ${(e.vars||e).palette.grey[400]}`,[`&.${u.disabled}`]:{borderBottom:`1px solid ${(e.vars||e).palette.action.disabled}`}}}},...Object.entries(e.palette).filter(Ie(["dark"])).map(([r])=>({props:{variant:"contained",color:r},style:{[`& .${u.firstButton},& .${u.middleButton}`]:{borderColor:(e.vars||e).palette[r].dark}}}))],[`& .${u.grouped}`]:{minWidth:40}}))),Br=$t(function(r,o){const a=Bt({props:r,name:"MuiButtonGroup"}),{children:l,className:i,color:h="primary",component:d="div",disabled:c=!1,disableElevation:p=!1,disableFocusRipple:g=!1,disableRipple:x=!1,fullWidth:w=!1,orientation:H="horizontal",size:X="medium",variant:O="outlined",...Z}=a,f={...a,color:h,component:d,disabled:c,disableElevation:p,disableFocusRipple:g,disableRipple:x,fullWidth:w,orientation:H,size:X,variant:O},k=Lr(f),C=Xe(()=>({className:k.grouped,color:h,disabled:c,disableElevation:p,disableFocusRipple:g,disableRipple:x,fullWidth:w,size:X,variant:O}),[h,c,p,g,x,w,X,O,k.grouped]),D=Sr(l),F=D.length,Re=Y=>{const q=Y===0,ne=Y===F-1;return q&&ne?"":q?k.firstButton:ne?k.lastButton:k.middleButton};return t($r,{as:d,role:"group",className:we(k.root,i),ref:o,ownerState:f,...Z,children:t(jt.Provider,{value:C,children:D.map((Y,q)=>t(Kt.Provider,{value:Re(q),children:Y},q))})})}),_r={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};function Tr(e,r,o=(a,l)=>a===l){return e.length===r.length&&e.every((a,l)=>o(a,r[l]))}const Pr=2;function Se(e,r,o,a,l){return o===1?Math.min(e+r,l):Math.max(e-r,a)}function Nt(e,r){return e-r}function ft(e,r){const{index:o}=e.reduce((a,l,i)=>{const h=Math.abs(r-l);return a===null||h<a.distance||h===a.distance?{distance:h,index:i}:a},null)??{};return o}function Ue(e,r){if(r.current!==void 0&&e.changedTouches){const o=e;for(let a=0;a<o.changedTouches.length;a+=1){const l=o.changedTouches[a];if(l.identifier===r.current)return{x:l.clientX,y:l.clientY}}return!1}return{x:e.clientX,y:e.clientY}}function Je(e,r,o){return(e-r)*100/(o-r)}function Ir(e,r,o){return(o-r)*e+r}function zr(e){if(Math.abs(e)<1){const o=e.toExponential().split("e-"),a=o[0].split(".")[1];return(a?a.length:0)+parseInt(o[1],10)}const r=e.toString().split(".")[1];return r?r.length:0}function Rr(e,r,o){const a=Math.round((e-o)/r)*r+o;return Number(a.toFixed(zr(r)))}function vt({values:e,newValue:r,index:o}){const a=e.slice();return a[o]=r,a.sort(Nt)}function je({sliderRef:e,activeIndex:r,setActive:o}){const a=Ze(e.current);(!e.current?.contains(a.activeElement)||Number(a?.activeElement?.getAttribute("data-index"))!==r)&&e.current?.querySelector(`[type="range"][data-index="${r}"]`).focus(),o&&o(r)}function Ke(e,r){return typeof e=="number"&&typeof r=="number"?e===r:typeof e=="object"&&typeof r=="object"?Tr(e,r):!1}const Or={horizontal:{offset:e=>({left:`${e}%`}),leap:e=>({width:`${e}%`})},"horizontal-reverse":{offset:e=>({right:`${e}%`}),leap:e=>({width:`${e}%`})},vertical:{offset:e=>({bottom:`${e}%`}),leap:e=>({height:`${e}%`})}},Dr=e=>e;let Ge;function yt(){return Ge===void 0&&(typeof CSS<"u"&&typeof CSS.supports=="function"?Ge=CSS.supports("touch-action","none"):Ge=!0),Ge}function Er(e){const{"aria-labelledby":r,defaultValue:o,disabled:a=!1,disableSwap:l=!1,isRtl:i=!1,marks:h=!1,max:d=100,min:c=0,name:p,onChange:g,onChangeCommitted:x,orientation:w="horizontal",rootRef:H,scale:X=Dr,step:O=1,shiftStep:Z=10,tabIndex:f,value:k}=e,C=Te(void 0),[D,F]=z(-1),[Re,Y]=z(-1),[q,ne]=z(!1),ve=Te(0),Le=Te(null),[j,W]=Gt({controlled:k,default:o??c,name:"Slider"}),E=g&&((s,n,m)=>{const y=s.nativeEvent||s,v=new y.constructor(y.type,y);Object.defineProperty(v,"target",{writable:!0,value:{value:n,name:p}}),Le.current=n,g(v,n,m)}),ye=Array.isArray(j);let T=ye?j.slice().sort(Nt):[j];T=T.map(s=>s==null?c:Pe(s,c,d));const $e=h===!0&&O!==null?[...Array(Math.floor((d-c)/O)+1)].map((s,n)=>({value:c+O*n})):h||[],B=$e.map(s=>s.value),[re,xe]=z(-1),S=Te(null),se=Yt(H,S),Qe=s=>n=>{const m=Number(n.currentTarget.getAttribute("data-index"));ut(n.target)&&xe(m),Y(m),s?.onFocus?.(n)},et=s=>n=>{ut(n.target)||xe(-1),Y(-1),s?.onBlur?.(n)},Oe=(s,n)=>{const m=Number(s.currentTarget.getAttribute("data-index")),y=T[m],v=B.indexOf(y);let b=n;if($e&&O==null){const U=B[B.length-1];b>=U?b=U:b<=B[0]?b=B[0]:b=b<y?B[v-1]:B[v+1]}if(b=Pe(b,c,d),ye){l&&(b=Pe(b,T[m-1]||-1/0,T[m+1]||1/0));const U=b;b=vt({values:T,newValue:b,index:m});let K=m;l||(K=b.indexOf(U)),je({sliderRef:S,activeIndex:K})}W(b),xe(m),E&&!Ke(b,j)&&E(s,b,m),x&&x(s,Le.current??b)},tt=s=>n=>{if(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","PageUp","PageDown","Home","End"].includes(n.key)){n.preventDefault();const m=Number(n.currentTarget.getAttribute("data-index")),y=T[m];let v=null;if(O!=null){const b=n.shiftKey?Z:O;switch(n.key){case"ArrowUp":v=Se(y,b,1,c,d);break;case"ArrowRight":v=Se(y,b,i?-1:1,c,d);break;case"ArrowDown":v=Se(y,b,-1,c,d);break;case"ArrowLeft":v=Se(y,b,i?1:-1,c,d);break;case"PageUp":v=Se(y,Z,1,c,d);break;case"PageDown":v=Se(y,Z,-1,c,d);break;case"Home":v=c;break;case"End":v=d;break}}else if($e){const b=B[B.length-1],U=B.indexOf(y),K=[i?"ArrowRight":"ArrowLeft","ArrowDown","PageDown","Home"],I=[i?"ArrowLeft":"ArrowRight","ArrowUp","PageUp","End"];K.includes(n.key)?U===0?v=B[0]:v=B[U-1]:I.includes(n.key)&&(U===B.length-1?v=b:v=B[U+1])}v!=null&&Oe(n,v)}s?.onKeyDown?.(n)};Xt(()=>{a&&S.current.contains(document.activeElement)&&document.activeElement?.blur()},[a]),a&&D!==-1&&F(-1),a&&re!==-1&&xe(-1);const De=s=>n=>{s.onChange?.(n),Oe(n,n.target.valueAsNumber)},ie=Te(void 0);let le=w;i&&w==="horizontal"&&(le+="-reverse");const ce=({finger:s,move:n=!1})=>{const{current:m}=S,{width:y,height:v,bottom:b,left:U}=m.getBoundingClientRect();let K;le.startsWith("vertical")?K=(b-s.y)/v:K=(s.x-U)/y,le.includes("-reverse")&&(K=1-K);let I;if(I=Ir(K,c,d),O)I=Rr(I,O,c);else{const _e=ft(B,I);I=B[_e]}I=Pe(I,c,d);let Q=0;if(ye){n?Q=ie.current:Q=ft(T,I),l&&(I=Pe(I,T[Q-1]||-1/0,T[Q+1]||1/0));const _e=I;I=vt({values:T,newValue:I,index:Q}),l&&n||(Q=I.indexOf(_e),ie.current=Q)}return{newValue:I,activeIndex:Q}},de=it(s=>{const n=Ue(s,C);if(!n)return;if(ve.current+=1,s.type==="mousemove"&&s.buttons===0){J(s);return}const{newValue:m,activeIndex:y}=ce({finger:n,move:!0});je({sliderRef:S,activeIndex:y,setActive:F}),W(m),!q&&ve.current>Pr&&ne(!0),E&&!Ke(m,j)&&E(s,m,y)}),J=it(s=>{const n=Ue(s,C);if(ne(!1),!n)return;const{newValue:m}=ce({finger:n,move:!0});F(-1),s.type==="touchend"&&Y(-1),x&&x(s,Le.current??m),C.current=void 0,ue()}),M=it(s=>{if(a)return;yt()||s.preventDefault();const n=s.changedTouches[0];n!=null&&(C.current=n.identifier);const m=Ue(s,C);if(m!==!1){const{newValue:v,activeIndex:b}=ce({finger:m});je({sliderRef:S,activeIndex:b,setActive:F}),W(v),E&&!Ke(v,j)&&E(s,v,b)}ve.current=0;const y=Ze(S.current);y.addEventListener("touchmove",de,{passive:!0}),y.addEventListener("touchend",J,{passive:!0})}),ue=Zt(()=>{const s=Ze(S.current);s.removeEventListener("mousemove",de),s.removeEventListener("mouseup",J),s.removeEventListener("touchmove",de),s.removeEventListener("touchend",J)},[J,de]);Ce(()=>{const{current:s}=S;return s.addEventListener("touchstart",M,{passive:yt()}),()=>{s.removeEventListener("touchstart",M),ue()}},[ue,M]),Ce(()=>{a&&ue()},[a,ue]);const rt=s=>n=>{if(s.onMouseDown?.(n),a||n.defaultPrevented||n.button!==0)return;n.preventDefault();const m=Ue(n,C);if(m!==!1){const{newValue:v,activeIndex:b}=ce({finger:m});je({sliderRef:S,activeIndex:b,setActive:F}),W(v),E&&!Ke(v,j)&&E(n,v,b)}ve.current=0;const y=Ze(S.current);y.addEventListener("mousemove",de,{passive:!0}),y.addEventListener("mouseup",J)},Ee=Je(ye?T[0]:c,c,d),N=Je(T[T.length-1],c,d)-Ee,Be=(s={})=>{const n=lt(s),m={onMouseDown:rt(n||{})},y={...n,...m};return{...s,ref:se,...y}},Ae=s=>n=>{s.onMouseOver?.(n);const m=Number(n.currentTarget.getAttribute("data-index"));Y(m)},Me=s=>n=>{s.onMouseLeave?.(n),Y(-1)},Ne=(s={})=>{const n=lt(s),m={onMouseOver:Ae(n||{}),onMouseLeave:Me(n||{})};return{...s,...n,...m}},Ve=s=>({pointerEvents:D!==-1&&D!==s?"none":void 0});let ke;return w==="vertical"&&(ke=i?"vertical-rl":"vertical-lr"),{active:D,axis:le,axisProps:Or,dragging:q,focusedThumbIndex:re,getHiddenInputProps:(s={})=>{const n=lt(s),m={onChange:De(n||{}),onFocus:Qe(n||{}),onBlur:et(n||{}),onKeyDown:tt(n||{})},y={...n,...m};return{tabIndex:f,"aria-labelledby":r,"aria-orientation":w,"aria-valuemax":X(d),"aria-valuemin":X(c),name:p,type:"range",min:e.min,max:e.max,step:e.step===null&&e.marks?"any":e.step??void 0,disabled:a,...s,...y,style:{..._r,direction:i?"rtl":"ltr",width:"100%",height:"100%",writingMode:ke}}},getRootProps:Be,getThumbProps:Ne,marks:$e,open:Re,range:ye,rootRef:se,trackLeap:N,trackOffset:Ee,values:T,getThumbStyle:Ve}}const Ar=e=>!e||!qe(e);function Mr(e){return Ct("MuiSlider",e)}const G=Lt("MuiSlider",["root","active","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","disabled","dragging","focusVisible","mark","markActive","marked","markLabel","markLabelActive","rail","sizeSmall","thumb","thumbColorPrimary","thumbColorSecondary","thumbColorError","thumbColorSuccess","thumbColorInfo","thumbColorWarning","track","trackInverted","trackFalse","thumbSizeSmall","valueLabel","valueLabelOpen","valueLabelCircle","valueLabelLabel","vertical"]),Nr=e=>{const{open:r}=e;return{offset:we(r&&G.valueLabelOpen),circle:G.valueLabelCircle,label:G.valueLabelLabel}};function Vr(e){const{children:r,className:o,value:a}=e,l=Nr(e);return r?qt(r,{className:r.props.className},t(dt,{children:[r.props.children,t("span",{className:we(l.offset,o),"aria-hidden":!0,children:t("span",{className:l.circle,children:t("span",{className:l.label,children:a})})})]})):null}function xt(e){return e}const Hr=ae("span",{name:"MuiSlider",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:o}=e;return[r.root,r[`color${_(o.color)}`],o.size!=="medium"&&r[`size${_(o.size)}`],o.marked&&r.marked,o.orientation==="vertical"&&r.vertical,o.track==="inverted"&&r.trackInverted,o.track===!1&&r.trackFalse]}})(he(({theme:e})=>({borderRadius:12,boxSizing:"content-box",display:"inline-block",position:"relative",cursor:"pointer",touchAction:"none",WebkitTapHighlightColor:"transparent","@media print":{colorAdjust:"exact"},[`&.${G.disabled}`]:{pointerEvents:"none",cursor:"default",color:(e.vars||e).palette.grey[400]},[`&.${G.dragging}`]:{[`& .${G.thumb}, & .${G.track}`]:{transition:"none"}},variants:[...Object.entries(e.palette).filter(Ie()).map(([r])=>({props:{color:r},style:{color:(e.vars||e).palette[r].main}})),{props:{orientation:"horizontal"},style:{height:4,width:"100%",padding:"13px 0","@media (pointer: coarse)":{padding:"20px 0"}}},{props:{orientation:"horizontal",size:"small"},style:{height:2}},{props:{orientation:"horizontal",marked:!0},style:{marginBottom:20}},{props:{orientation:"vertical"},style:{height:"100%",width:4,padding:"0 13px","@media (pointer: coarse)":{padding:"0 20px"}}},{props:{orientation:"vertical",size:"small"},style:{width:2}},{props:{orientation:"vertical",marked:!0},style:{marginRight:44}}]}))),Fr=ae("span",{name:"MuiSlider",slot:"Rail"})({display:"block",position:"absolute",borderRadius:"inherit",backgroundColor:"currentColor",opacity:.38,variants:[{props:{orientation:"horizontal"},style:{width:"100%",height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{height:"100%",width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:"inverted"},style:{opacity:1}}]}),Wr=ae("span",{name:"MuiSlider",slot:"Track"})(he(({theme:e})=>({display:"block",position:"absolute",borderRadius:"inherit",border:"1px solid currentColor",backgroundColor:"currentColor",transition:e.transitions.create(["left","width","bottom","height"],{duration:e.transitions.duration.shortest}),variants:[{props:{size:"small"},style:{border:"none"}},{props:{orientation:"horizontal"},style:{height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:!1},style:{display:"none"}},...Object.entries(e.palette).filter(Ie()).map(([r])=>({props:{color:r,track:"inverted"},style:{...e.vars?{backgroundColor:e.vars.palette.Slider[`${r}Track`],borderColor:e.vars.palette.Slider[`${r}Track`]}:{backgroundColor:e.lighten(e.palette[r].main,.62),borderColor:e.lighten(e.palette[r].main,.62),...e.applyStyles("dark",{backgroundColor:e.darken(e.palette[r].main,.5)}),...e.applyStyles("dark",{borderColor:e.darken(e.palette[r].main,.5)})}}}))]}))),Ur=ae("span",{name:"MuiSlider",slot:"Thumb",overridesResolver:(e,r)=>{const{ownerState:o}=e;return[r.thumb,r[`thumbColor${_(o.color)}`],o.size!=="medium"&&r[`thumbSize${_(o.size)}`]]}})(he(({theme:e})=>({position:"absolute",width:20,height:20,boxSizing:"border-box",borderRadius:"50%",outline:0,backgroundColor:"currentColor",display:"flex",alignItems:"center",justifyContent:"center",transition:e.transitions.create(["box-shadow","left","bottom"],{duration:e.transitions.duration.shortest}),"&::before":{position:"absolute",content:'""',borderRadius:"inherit",width:"100%",height:"100%",boxShadow:(e.vars||e).shadows[2]},"&::after":{position:"absolute",content:'""',borderRadius:"50%",width:42,height:42,top:"50%",left:"50%",transform:"translate(-50%, -50%)"},[`&.${G.disabled}`]:{"&:hover":{boxShadow:"none"}},variants:[{props:{size:"small"},style:{width:12,height:12,"&::before":{boxShadow:"none"}}},{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-50%, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 50%)"}},...Object.entries(e.palette).filter(Ie()).map(([r])=>({props:{color:r},style:{[`&:hover, &.${G.focusVisible}`]:{boxShadow:`0px 0px 0px 8px ${e.alpha((e.vars||e).palette[r].main,.16)}`,"@media (hover: none)":{boxShadow:"none"}},[`&.${G.active}`]:{boxShadow:`0px 0px 0px 14px ${e.alpha((e.vars||e).palette[r].main,.16)}`}}}))]}))),jr=ae(Vr,{name:"MuiSlider",slot:"ValueLabel"})(he(({theme:e})=>({zIndex:1,whiteSpace:"nowrap",...e.typography.body2,fontWeight:500,transition:e.transitions.create(["transform"],{duration:e.transitions.duration.shortest}),position:"absolute",backgroundColor:(e.vars||e).palette.grey[600],borderRadius:2,color:(e.vars||e).palette.common.white,display:"flex",alignItems:"center",justifyContent:"center",padding:"0.25rem 0.75rem",variants:[{props:{orientation:"horizontal"},style:{transform:"translateY(-100%) scale(0)",top:"-10px",transformOrigin:"bottom center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, 50%) rotate(45deg)",backgroundColor:"inherit",bottom:0,left:"50%"},[`&.${G.valueLabelOpen}`]:{transform:"translateY(-100%) scale(1)"}}},{props:{orientation:"vertical"},style:{transform:"translateY(-50%) scale(0)",right:"30px",top:"50%",transformOrigin:"right center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, -50%) rotate(45deg)",backgroundColor:"inherit",right:-8,top:"50%"},[`&.${G.valueLabelOpen}`]:{transform:"translateY(-50%) scale(1)"}}},{props:{size:"small"},style:{fontSize:e.typography.pxToRem(12),padding:"0.25rem 0.5rem"}},{props:{orientation:"vertical",size:"small"},style:{right:"20px"}}]}))),Kr=ae("span",{name:"MuiSlider",slot:"Mark",shouldForwardProp:e=>Tt(e)&&e!=="markActive",overridesResolver:(e,r)=>{const{markActive:o}=e;return[r.mark,o&&r.markActive]}})(he(({theme:e})=>({position:"absolute",width:2,height:2,borderRadius:1,backgroundColor:"currentColor",variants:[{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-1px, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 1px)"}},{props:{markActive:!0},style:{backgroundColor:(e.vars||e).palette.background.paper,opacity:.8}}]}))),Gr=ae("span",{name:"MuiSlider",slot:"MarkLabel",shouldForwardProp:e=>Tt(e)&&e!=="markLabelActive"})(he(({theme:e})=>({...e.typography.body2,color:(e.vars||e).palette.text.secondary,position:"absolute",whiteSpace:"nowrap",variants:[{props:{orientation:"horizontal"},style:{top:30,transform:"translateX(-50%)","@media (pointer: coarse)":{top:40}}},{props:{orientation:"vertical"},style:{left:36,transform:"translateY(50%)","@media (pointer: coarse)":{left:44}}},{props:{markLabelActive:!0},style:{color:(e.vars||e).palette.text.primary}}]}))),Yr=e=>{const{disabled:r,dragging:o,marked:a,orientation:l,track:i,classes:h,color:d,size:c}=e,p={root:["root",r&&"disabled",o&&"dragging",a&&"marked",l==="vertical"&&"vertical",i==="inverted"&&"trackInverted",i===!1&&"trackFalse",d&&`color${_(d)}`,c&&`size${_(c)}`],rail:["rail"],track:["track"],mark:["mark"],markActive:["markActive"],markLabel:["markLabel"],markLabelActive:["markLabelActive"],valueLabel:["valueLabel"],thumb:["thumb",r&&"disabled",c&&`thumbSize${_(c)}`,d&&`thumbColor${_(d)}`],active:["active"],disabled:["disabled"],focusVisible:["focusVisible"]};return _t(p,Mr,h)},Xr=({children:e})=>e,Zr=$t(function(r,o){const a=Bt({props:r,name:"MuiSlider"}),l=Jt(),{"aria-label":i,"aria-valuetext":h,"aria-labelledby":d,component:c="span",components:p={},componentsProps:g={},color:x="primary",classes:w,className:H,disableSwap:X=!1,disabled:O=!1,getAriaLabel:Z,getAriaValueText:f,marks:k=!1,max:C=100,min:D=0,name:F,onChange:Re,onChangeCommitted:Y,orientation:q="horizontal",shiftStep:ne=10,size:ve="medium",step:Le=1,scale:j=xt,slotProps:W,slots:E,tabIndex:ye,track:T="normal",value:$e,valueLabelDisplay:B="off",valueLabelFormat:re=xt,...xe}=a,S={...a,isRtl:l,max:C,min:D,classes:w,disabled:O,disableSwap:X,orientation:q,marks:k,color:x,size:ve,step:Le,shiftStep:ne,scale:j,track:T,valueLabelDisplay:B,valueLabelFormat:re},{axisProps:se,getRootProps:Qe,getHiddenInputProps:et,getThumbProps:Oe,open:tt,active:De,axis:ie,focusedThumbIndex:le,range:ce,dragging:de,marks:J,values:M,trackOffset:ue,trackLeap:rt,getThumbStyle:Ee}=Er({...S,rootRef:o});S.marked=J.length>0&&J.some(P=>P.label),S.dragging=de,S.focusedThumbIndex=le;const N=Yr(S),Be=E?.root??p.Root??Hr,Ae=E?.rail??p.Rail??Fr,Me=E?.track??p.Track??Wr,Ne=E?.thumb??p.Thumb??Ur,Ve=E?.valueLabel??p.ValueLabel??jr,ke=E?.mark??p.Mark??Kr,He=E?.markLabel??p.MarkLabel??Gr,s=E?.input??p.Input??"input",n=W?.root??g.root,m=W?.rail??g.rail,y=W?.track??g.track,v=W?.thumb??g.thumb,b=W?.valueLabel??g.valueLabel,U=W?.mark??g.mark,K=W?.markLabel??g.markLabel,I=W?.input??g.input,Q=oe({elementType:Be,getSlotProps:Qe,externalSlotProps:n,externalForwardedProps:xe,additionalProps:{...Ar(Be)&&{as:c}},ownerState:{...S,...n?.ownerState},className:[N.root,H]}),_e=oe({elementType:Ae,externalSlotProps:m,ownerState:S,className:N.rail}),Vt=oe({elementType:Me,externalSlotProps:y,additionalProps:{style:{...se[ie].offset(ue),...se[ie].leap(rt)}},ownerState:{...S,...y?.ownerState},className:N.track}),ot=oe({elementType:Ne,getSlotProps:Oe,externalSlotProps:v,ownerState:{...S,...v?.ownerState},className:N.thumb}),Ht=oe({elementType:Ve,externalSlotProps:b,ownerState:{...S,...b?.ownerState},className:N.valueLabel}),at=oe({elementType:ke,externalSlotProps:U,ownerState:S,className:N.mark}),nt=oe({elementType:He,externalSlotProps:K,ownerState:S,className:N.markLabel}),Ft=oe({elementType:s,getSlotProps:et,externalSlotProps:I,ownerState:S});return t(Be,{...Q,children:[t(Ae,{..._e}),t(Me,{...Vt}),J.filter(P=>P.value>=D&&P.value<=C).map((P,A)=>{const st=Je(P.value,D,C),Fe=se[ie].offset(st);let ee;return T===!1?ee=M.includes(P.value):ee=T==="normal"&&(ce?P.value>=M[0]&&P.value<=M[M.length-1]:P.value<=M[0])||T==="inverted"&&(ce?P.value<=M[0]||P.value>=M[M.length-1]:P.value>=M[0]),t(dt,{children:[t(ke,{"data-index":A,...at,...!qe(ke)&&{markActive:ee},style:{...Fe,...at.style},className:we(at.className,ee&&N.markActive)}),P.label!=null?t(He,{"aria-hidden":!0,"data-index":A,...nt,...!qe(He)&&{markLabelActive:ee},style:{...Fe,...nt.style},className:we(N.markLabel,nt.className,ee&&N.markLabelActive),children:P.label}):null]},A)}),M.map((P,A)=>{const st=Je(P,D,C),Fe=se[ie].offset(st),ee=B==="off"?Xr:Ve;return t(ee,{...!qe(ee)&&{valueLabelFormat:re,valueLabelDisplay:B,value:typeof re=="function"?re(j(P),A):re,index:A,open:tt===A||De===A||B==="on",disabled:O},...Ht,children:t(Ne,{"data-index":A,...ot,className:we(N.thumb,ot.className,De===A&&N.active,le===A&&N.focusVisible),style:{...Fe,...Ee(A),...ot.style},children:t(s,{"data-index":A,"aria-label":Z?Z(A):i,"aria-valuenow":j(P),"aria-labelledby":d,"aria-valuetext":f?f(j(P),A):h,value:M[A],...Ft})})},A)})]})}),qr=be(t("path",{d:"M7.5 5.6 10 7 8.6 4.5 10 2 7.5 3.4 5 2l1.4 2.5L5 7zm12 9.8L17 14l1.4 2.5L17 19l2.5-1.4L22 19l-1.4-2.5L22 14zM22 2l-2.5 1.4L17 2l1.4 2.5L17 7l2.5-1.4L22 7l-1.4-2.5zm-7.63 5.29a.996.996 0 0 0-1.41 0L1.29 18.96c-.39.39-.39 1.02 0 1.41l2.34 2.34c.39.39 1.02.39 1.41 0L16.7 11.05c.39-.39.39-1.02 0-1.41zm-1.03 5.49-2.12-2.12 2.44-2.44 2.12 2.12z"})),Jr=be(t("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2m5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12z"})),Qr=be(t("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zm2.46-7.12 1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"})),kt=be(t("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2m-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2m3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1s3.1 1.39 3.1 3.1z"})),St=be(t("path",{d:"M12 17c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m6-9h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6h1.9c0-1.71 1.39-3.1 3.1-3.1s3.1 1.39 3.1 3.1v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2m0 12H6V10h12z"})),eo=be(t("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3m3-10H5V5h10z"})),to=be(t("path",{d:"m12 16.5 4-4h-3v-9h-2v9H8zm9-13h-6v1.99h6v14.03H3V5.49h6V3.5H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2v-14c0-1.1-.9-2-2-2"})),ro=({tableName:e,item:r,primaryKey:o})=>{const[a,l]=R(z(!1),"isEditing"),[i,h]=R(z(JSON.stringify(r,null,2)),"editValue"),[d,c]=R(z(null),"error"),p=async()=>{try{const x=JSON.parse(i);await ze.table(e).put(x),l(!1),c(null)}catch(x){c(x instanceof Error?x.message:"Invalid JSON")}},g=async()=>{confirm("Are you sure you want to delete this record?")&&await ze.table(e).delete(o)};return a?t(L,{sx:{p:1},children:[t(Ot,{fullWidth:!0,multiline:!0,minRows:3,value:i,onChange:x=>h(x.target.value),variant:"outlined",size:"small",sx:{fontFamily:"monospace",mb:1}}),d&&t(me,{severity:"error",sx:{mb:1},children:d}),t(gr,{direction:"row",spacing:1,justifyContent:"flex-end",children:[t(V,{startIcon:t(Jr,{}),onClick:()=>{l(!1),h(JSON.stringify(r,null,2)),c(null)},size:"small",children:"Cancel"}),t(V,{startIcon:t(eo,{}),onClick:p,variant:"contained",size:"small",children:"Save"})]})]}):t(L,{children:[t(L,{sx:{display:"flex",justifyContent:"flex-end",mb:1},children:[t(pt,{size:"small",onClick:()=>l(!0),children:t(mr,{fontSize:"small"})}),t(pt,{size:"small",onClick:g,color:"error",children:t(Mt,{fontSize:"small"})})]}),t(L,{component:"pre",sx:{overflowX:"auto",fontSize:"0.75rem",m:0,p:1,bgcolor:"action.hover",borderRadius:1},children:JSON.stringify(r,null,2)})]})},oo=({tableName:e})=>{const{t:r}=fe(["settings"]),o=Qt(()=>ze.table(e).toArray(),[e]),l=ze.table(e).schema.primKey.name;return o?o.length===0?t($,{children:r("settings:developer.no_records")}):t(nr,{children:o.map((i,h)=>{const d=i[l];return t(er,{disablePadding:!0,children:t(tr,{sx:{width:"100%"},children:[t(rr,{expandIcon:t(or,{}),children:t($,{noWrap:!0,children:i.id||i.name||i.key||`Record ${h}`})}),t(ar,{children:t(ro,{tableName:e,item:i,primaryKey:d})})]})},d||h)})}):t($,{children:r("settings:developer.loading")})},ao=()=>{const{t:e}=fe(["settings"]),[r,o]=R(z(""),"selectedTable"),a=ze.tables.map(i=>i.name),l=i=>{o(i.target.value)};return t(L,{sx:{mt:2},children:[t(Pt,{fullWidth:!0,size:"small",sx:{mb:2},children:[t(It,{children:e("settings:developer.select_table")}),t(zt,{value:r,label:e("settings:developer.select_table"),onChange:l,children:a.map(i=>t(Rt,{value:i,children:i},i))})]}),r&&t(oo,{tableName:r})]})},no=()=>{const{t:e}=fe(["settings"]),{debugLogs:r,clearDebugLogs:o}=Dt(),a=r.filter(i=>i.type==="packet").sort((i,h)=>new Date(h.timestamp).getTime()-new Date(i.timestamp).getTime()),l=i=>i===void 0?"UNKNOWN":sr[i]||`OP_${i.toString(16).toUpperCase()}`;return t(L,{sx:{mt:4},children:[t(L,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[t($,{variant:"h6",children:e("settings:developer.packet_logger_title")}),t(V,{variant:"outlined",color:"error",startIcon:t(Mt,{}),onClick:o,size:"small",children:e("settings:developer.clear_logs")})]}),t(Et,{variant:"outlined",sx:{width:"100%",overflow:"hidden"},children:t(L,{sx:{maxHeight:400,overflowY:"auto"},children:t(hr,{stickyHeader:!0,size:"small",children:[t(br,{children:t(ct,{children:[t(te,{children:"Time"}),t(te,{children:"Dir"}),t(te,{children:"Opcode"}),t(te,{children:"Payload (Hex)"})]})}),t(fr,{children:a.length>0?a.map(i=>t(ct,{hover:!0,children:[t(te,{sx:{whiteSpace:"nowrap",fontSize:"0.75rem"},children:new Date(i.timestamp).toLocaleTimeString([],{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit",fractionalSecondDigits:3})}),t(te,{children:t(vr,{label:i.direction,color:i.direction==="TX"?"primary":"success",size:"small",sx:{fontSize:"0.7rem",height:20}})}),t(te,{sx:{fontSize:"0.75rem",fontWeight:"bold"},children:l(i.opcode)}),t(te,{sx:{fontFamily:"monospace",fontSize:"0.75rem",wordBreak:"break-all"},children:i.payload||"-"})]},i.id)):t(ct,{children:t(te,{colSpan:4,align:"center",children:t($,{variant:"body2",color:"text.secondary",sx:{py:2},children:e("settings:developer.no_records")})})})})]})})})]})},so=e=>lr[e]||`UNKNOWN_OPCODE_${e}`,wt={},io=()=>{const{t:e}=fe(["settings"]),{sendPacket:r,isConnected:o}=Dt(),[a,l]=R(z(""),"selectedOpcode"),[i,h]=R(z({}),"formData"),[d,c]=R(z(null),"validationError"),[p,g]=R(z(null),"successMessage"),x=R(Xe(()=>Array.from(gt.getRegisteredTXPackets().entries()).sort((f,k)=>f[0]-k[0]),[]),"registeredPackets"),w=R(Xe(()=>a===""?null:gt.getRegisteredTXPackets().get(a),[a]),"SelectedPacketClass"),H=R(Xe(()=>!w||!w.schema?null:w.schema instanceof ir?w.schema.shape:null,[w]),"schemaShape");Ce(()=>{if(!H){h({});return}const f={};Object.keys(H).forEach(k=>{f[k]=wt[k]||""}),h(f)},[H]);const X=f=>{l(f.target.value),c(null),g(null)},O=(f,k)=>{h(C=>({...C,[f]:k})),wt[f]=k,c(null),g(null)},Z=async()=>{if(w){c(null),g(null);try{let f={};if(w.schema){const C=w.schema.safeParse(i);if(!C.success){const D=C.error.errors.map(F=>`${F.path.join(".")}: ${F.message}`).join(", ");c(D);return}f=C.data}const k=new w;Object.assign(k,f),await r(k),console.log("Packet sent successfully",k),g(e("settings:developer.packet_sent_success"))}catch(f){console.error("Failed to send packet",f),c(f.message||e("settings:developer.packet_send_error"))}}};return t(L,{sx:{display:"flex",flexDirection:"column",gap:3},children:[t(me,{severity:o?"success":"warning",children:e(o?"settings:developer.enabled_success":"settings:developer.not_connected_warning")}),t(Pt,{fullWidth:!0,children:[t(It,{children:e("settings:developer.packet_type_label")}),t(zt,{value:a,label:e("settings:developer.packet_type_label"),onChange:X,children:x.map(([f])=>t(Rt,{value:f,children:[so(f)," (",f,")"]},f))})]}),w&&t(Et,{variant:"outlined",sx:{p:2},children:[t($,{variant:"h6",gutterBottom:!0,children:e("settings:developer.packet_parameters_title")}),t(L,{sx:{display:"flex",flexDirection:"column",gap:2},children:[H?Object.keys(H).length>0?Object.keys(H).map(f=>{const k=H[f];let C=!1;const D=k._def.typeName;return(D==="ZodNumber"||D==="ZodEffects"&&k._def.schema?._def.typeName==="ZodNumber")&&(C=!0),t(Ot,{label:f,variant:"outlined",fullWidth:!0,type:C?"number":"text",value:i[f]||"",onChange:F=>O(f,F.target.value),helperText:C?"Number":"String"},f)}):t($,{color:"text.secondary",children:e("settings:developer.no_parameters")}):t($,{color:"text.secondary",children:e("settings:developer.no_schema")}),d&&t(me,{severity:"error",children:d}),p&&t(me,{severity:"success",children:p}),t(V,{variant:"contained",onClick:Z,disabled:!o&&!window.BOKS_SIMULATOR_ENABLED,children:e("settings:developer.send_packet")})]})]}),t(no,{})]})},lo=()=>{const{t:e}=fe(["settings"]),[r,o]=R(z([]),"registrations"),[a,l]=R(z(null),"message"),i=async()=>{if("serviceWorker"in navigator){const p=await navigator.serviceWorker.getRegistrations();o([...p])}};Ce(()=>{i()},[]);const h=async p=>{try{await p.update(),l(e("settings:developer.sw_update_requested")),i()}catch(g){l(e("settings:developer.sw_update_failed",{error:String(g)}))}},d=async p=>{try{const g=await p.unregister();l(e(g?"settings:developer.sw_unregister_success":"settings:developer.sw_unregister_failed")),i()}catch(g){l(e("settings:developer.sw_unregister_error",{error:String(g)}))}},c=()=>{window.location.reload()};return"serviceWorker"in navigator?t(ge,{sx:{mt:2},children:t(pe,{children:[t($,{variant:"h6",gutterBottom:!0,children:e("settings:developer.sw_title")}),t(At,{sx:{mb:2}}),a&&t(me,{severity:"info",sx:{mb:2},onClose:()=>l(null),children:a}),r.length===0?t($,{variant:"body2",color:"text.secondary",children:e("settings:developer.sw_no_active")}):r.map((p,g)=>t(L,{sx:{mb:2,p:1,border:"1px solid #ddd",borderRadius:1},children:[t($,{variant:"subtitle2",children:e("settings:developer.sw_scope",{scope:p.scope})}),t($,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:e("settings:developer.sw_status",{status:p.installing?e("settings:developer.sw_installing"):p.waiting?e("settings:developer.sw_waiting"):p.active?e("settings:developer.sw_active"):e("settings:developer.sw_unknown")})}),t(L,{sx:{display:"flex",gap:1,flexWrap:"wrap",mt:1},children:[t(V,{size:"small",variant:"outlined",startIcon:t(to,{}),onClick:()=>h(p),children:e("settings:developer.sw_check_update")}),t(V,{size:"small",variant:"outlined",color:"error",startIcon:t(Qr,{}),onClick:()=>d(p),children:e("settings:developer.sw_unregister")})]})]},g)),t(L,{sx:{mt:2},children:t(V,{fullWidth:!0,variant:"contained",color:"primary",startIcon:t(cr,{}),onClick:c,children:e("settings:developer.sw_reload")})})]})}):t(me,{severity:"warning",children:e("settings:developer.sw_not_supported")})},co=()=>{const{t:e}=fe(["settings"]),[r,o]=R(z(null),"simulator"),[a,l]=R(z(null),"state"),[i,h]=R(z(!1),"isEnabled"),[d,c]=R(z(!1),"isSimulatorRunning");Ce(()=>{const g=localStorage.getItem("BOKS_SIMULATOR_ENABLED")==="true";h(g);const x=window.boksSimulatorController;if(x){o(x),c(!0);const w=setInterval(()=>{l(x.getState())},500);return()=>clearInterval(w)}},[]);const p=(g,x)=>{x?localStorage.setItem("BOKS_SIMULATOR_ENABLED","true"):localStorage.removeItem("BOKS_SIMULATOR_ENABLED"),window.location.reload()};return t(L,{sx:{p:2,display:"flex",flexDirection:"column",gap:2},children:[t($,{variant:"h6",gutterBottom:!0,children:e("settings:developer.simulator.title")}),t(ge,{variant:"outlined",sx:{mb:1},children:t(pe,{sx:{py:1,"&:last-child":{pb:1}},children:t(mt,{control:t(ht,{checked:i,onChange:p}),label:e("settings:developer.simulator.enable_simulator")})})}),!d&&t(me,{severity:"warning",children:e("settings:developer.simulator.not_active")}),d&&a&&t(dt,{children:[t(ge,{variant:"outlined",children:t(pe,{children:[t(L,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[t($,{variant:"subtitle1",sx:{display:"flex",alignItems:"center",gap:1},children:[a.isOpen?t(St,{color:"warning"}):t(kt,{color:"success"}),e("settings:developer.simulator.status",{status:a.isOpen?e("settings:developer.simulator.open"):e("settings:developer.simulator.closed")})]}),t(mt,{control:t(ht,{checked:a.chaosMode,onChange:(g,x)=>r?.enableChaos(x),color:"secondary"}),label:t(L,{sx:{display:"flex",alignItems:"center",gap:.5},children:[t(qr,{fontSize:"small"})," ",e("settings:developer.simulator.chaos_mode")]})})]}),t(At,{sx:{my:1}}),t($,{variant:"body2",color:"text.secondary",gutterBottom:!0,sx:{mt:1},children:e("settings:developer.simulator.manual_triggers")}),t(Br,{fullWidth:!0,variant:"contained",size:"small",children:[t(V,{onClick:()=>r?.triggerDoorOpen("ble"),disabled:a.isOpen,startIcon:t(St,{}),children:e("settings:developer.simulator.ble_open")}),t(V,{onClick:()=>r?.triggerDoorOpen("nfc"),disabled:a.isOpen,color:"info",children:e("settings:developer.simulator.nfc_open")}),t(V,{onClick:()=>r?.triggerDoorOpen("button"),disabled:a.isOpen,color:"warning",children:e("settings:developer.simulator.button_open")})]}),t(V,{fullWidth:!0,variant:"outlined",size:"small",sx:{mt:1},onClick:()=>r?.triggerDoorClose(),disabled:!a.isOpen,startIcon:t(kt,{}),children:e("settings:developer.simulator.force_close")})]})}),t(ge,{variant:"outlined",children:t(pe,{children:[t($,{variant:"subtitle2",sx:{display:"flex",alignItems:"center",gap:1,mb:1},children:[t(dr,{})," ",e("settings:developer.simulator.battery_level",{level:a.batteryLevel})]}),t(Zr,{value:a.batteryLevel,onChange:(g,x)=>r?.setBatteryLevel(x),valueLabelDisplay:"auto",min:0,max:100,size:"small"})]})}),t(ge,{variant:"outlined",children:t(pe,{children:[t(L,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[t($,{variant:"subtitle2",sx:{display:"flex",alignItems:"center",gap:1},children:[t(yr,{})," ",e("settings:developer.simulator.logs_count",{count:a.logs.length})]}),t(V,{size:"small",variant:"text",color:"error",onClick:()=>r?.reset(),children:e("settings:developer.simulator.reset")})]}),t(L,{sx:{mt:1,maxHeight:150,overflow:"auto",fontSize:"0.75rem",fontFamily:"monospace",bgcolor:"rgba(0,0,0,0.03)",p:1,borderRadius:1},children:a.logs.length===0?e("settings:developer.simulator.no_logs"):[...a.logs].reverse().map((g,x)=>t("div",{children:["[",new Date(g.timestamp).toLocaleTimeString(),"] Op: 0x",g.opcode.toString(16).toUpperCase()]},x))})]})})]})]})};function Ye(e){const{children:r,value:o,index:a,...l}=e;return t("div",{role:"tabpanel",hidden:o!==a,id:`simple-tabpanel-${a}`,"aria-labelledby":`simple-tab-${a}`,...l,children:o===a&&t(L,{sx:{p:2},children:r})})}const xo=()=>{const{t:e}=fe(["settings"]),r=ur(),{isDeveloperMode:o,disableDeveloperMode:a}=pr(),[l,i]=R(z(0),"tabValue");Ce(()=>{o||r("/")},[o,r]);const h=()=>{a(),r("/")},d=async()=>{try{confirm(e("settings:developer.mock_data_confirm"))&&(await bt.mockData(),alert(e("settings:developer.mock_data_success")))}catch(p){console.error(p),alert(e("settings:developer.mock_data_failed"))}},c=(p,g)=>{i(g)};return t(kr,{maxWidth:"md",sx:{py:2},children:[t(L,{sx:{mb:3,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[t($,{variant:"h4",children:e("settings:developer.page_title")}),t(V,{variant:"outlined",color:"error",onClick:h,children:e("settings:developer.disable_mode")})]}),t(L,{sx:{borderBottom:1,borderColor:"divider"},children:t(xr,{value:l,onChange:c,"aria-label":"developer tabs",children:[t(We,{label:e("settings:developer.tabs.general")}),t(We,{label:e("settings:developer.tabs.database")}),t(We,{label:e("settings:developer.tabs.bluetooth")}),t(We,{label:e("settings:developer.tabs.simulator")})]})}),t(Ye,{value:l,index:0,children:t(lo,{})}),t(Ye,{value:l,index:1,children:t(ge,{children:t(pe,{children:[t(L,{sx:{mb:4},children:[t(L,{sx:{display:"flex",gap:2},children:[t(V,{variant:"contained",onClick:d,children:e("settings:developer.load_mock_data")}),t(V,{variant:"outlined",color:"error",onClick:()=>{confirm(e("settings:developer.clear_db_confirm"))&&bt.clearAllData()},children:e("settings:developer.clear_db")})]}),t($,{variant:"caption",display:"block",color:"text.secondary",sx:{mt:1},children:e("settings:developer.mock_data_helper")})]}),t($,{variant:"h6",gutterBottom:!0,children:e("settings:developer.db_editor")}),t($,{variant:"body2",color:"text.secondary",paragraph:!0,children:e("settings:developer.db_editor_helper")}),t(ao,{})]})})}),t(Ye,{value:l,index:2,children:t(ge,{children:t(pe,{children:[t($,{variant:"h6",gutterBottom:!0,children:"Bluetooth Debugger"}),t(io,{})]})})}),t(Ye,{value:l,index:3,children:t(co,{})})]})};export{xo as DeveloperPage};
