import{r as u,g as St,a as jt,u as kt,j as t,aF as Ot,aG as Dt,c as Se,aa as _,b as wt,s as ae,m as ge,aH as $e,aI as At,aJ as Be,aK as Nt,aL as Vt,aM as at,aN as Ke,aO as nt,aP as ct,aQ as Ge,aR as Ht,aS as re,ab as Ct,e as je,f as he,V as _e,k as C,aT as Lt,aU as Bt,aV as $t,aW as Xe,S as Ft,T as L,a3 as Wt,a4 as Ut,aX as Kt,aY as Gt,an as Xt,aZ as Yt,K as Ye,a1 as me,l as D,M as dt,N as lt,P as _t,aA as Jt,a_ as ut,a$ as qt,X as Zt,z as se,A as oe,D as Rt,ak as Qt,b0 as er,b1 as tr,H as rr,q as sr,b2 as or,b3 as pt}from"./index-CKbl9z4O.js";import{S as ar}from"./Stack-IjDGMceN.js";import{E as nr}from"./Edit-BwL0lxaI.js";import{D as Tt}from"./Delete-B5KQUgoD.js";import{T as ir,a as lr,b as it,c as ee,d as cr}from"./TableRow-Cs7BjskK.js";import{C as dr}from"./Chip-l_mYsi4u.js";import{L as mt}from"./Lock-GY0_7_iV.js";import{F as gt,S as ht,T as ur,a as Ne}from"./Tabs-DsBv1i90.js";import{C as pr}from"./Container-B-BX2N-x.js";function mr(e){return u.Children.toArray(e).filter(r=>u.isValidElement(r))}function gr(e){return St("MuiButtonGroup",e)}const m=jt("MuiButtonGroup",["root","contained","outlined","text","disableElevation","disabled","firstButton","fullWidth","horizontal","vertical","colorPrimary","colorSecondary","grouped","groupedHorizontal","groupedVertical","groupedText","groupedTextHorizontal","groupedTextVertical","groupedTextPrimary","groupedTextSecondary","groupedOutlined","groupedOutlinedHorizontal","groupedOutlinedVertical","groupedOutlinedPrimary","groupedOutlinedSecondary","groupedContained","groupedContainedHorizontal","groupedContainedVertical","groupedContainedPrimary","groupedContainedSecondary","lastButton","middleButton"]),hr=(e,r)=>{const{ownerState:s}=e;return[{[`& .${m.grouped}`]:r.grouped},{[`& .${m.grouped}`]:r[`grouped${_(s.orientation)}`]},{[`& .${m.grouped}`]:r[`grouped${_(s.variant)}`]},{[`& .${m.grouped}`]:r[`grouped${_(s.variant)}${_(s.orientation)}`]},{[`& .${m.grouped}`]:r[`grouped${_(s.variant)}${_(s.color)}`]},{[`& .${m.firstButton}`]:r.firstButton},{[`& .${m.lastButton}`]:r.lastButton},{[`& .${m.middleButton}`]:r.middleButton},r.root,r[s.variant],s.disableElevation===!0&&r.disableElevation,s.fullWidth&&r.fullWidth,s.orientation==="vertical"&&r.vertical]},fr=e=>{const{classes:r,color:s,disabled:o,disableElevation:l,fullWidth:a,orientation:v,variant:p}=e,c={root:["root",p,v,a&&"fullWidth",l&&"disableElevation",`color${_(s)}`],grouped:["grouped",`grouped${_(v)}`,`grouped${_(p)}`,`grouped${_(p)}${_(v)}`,`grouped${_(p)}${_(s)}`,o&&"disabled"],firstButton:["firstButton"],lastButton:["lastButton"],middleButton:["middleButton"]};return wt(c,gr,r)},br=ae("div",{name:"MuiButtonGroup",slot:"Root",overridesResolver:hr})(ge(({theme:e})=>({display:"inline-flex",borderRadius:(e.vars||e).shape.borderRadius,variants:[{props:{variant:"contained"},style:{boxShadow:(e.vars||e).shadows[2],[`& .${m.grouped}`]:{boxShadow:"none","&:hover":{boxShadow:"none"}}}},{props:{disableElevation:!0},style:{boxShadow:"none"}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{orientation:"vertical"},style:{flexDirection:"column",[`& .${m.lastButton},& .${m.middleButton}`]:{borderTopRightRadius:0,borderTopLeftRadius:0},[`& .${m.firstButton},& .${m.middleButton}`]:{borderBottomRightRadius:0,borderBottomLeftRadius:0}}},{props:{orientation:"horizontal"},style:{[`& .${m.firstButton},& .${m.middleButton}`]:{borderTopRightRadius:0,borderBottomRightRadius:0},[`& .${m.lastButton},& .${m.middleButton}`]:{borderTopLeftRadius:0,borderBottomLeftRadius:0}}},{props:{variant:"text",orientation:"horizontal"},style:{[`& .${m.firstButton},& .${m.middleButton}`]:{borderRight:e.vars?`1px solid ${e.alpha(e.vars.palette.common.onBackground,.23)}`:`1px solid ${e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`,[`&.${m.disabled}`]:{borderRight:`1px solid ${(e.vars||e).palette.action.disabled}`}}}},{props:{variant:"text",orientation:"vertical"},style:{[`& .${m.firstButton},& .${m.middleButton}`]:{borderBottom:e.vars?`1px solid ${e.alpha(e.vars.palette.common.onBackground,.23)}`:`1px solid ${e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`,[`&.${m.disabled}`]:{borderBottom:`1px solid ${(e.vars||e).palette.action.disabled}`}}}},...Object.entries(e.palette).filter($e()).flatMap(([r])=>[{props:{variant:"text",color:r},style:{[`& .${m.firstButton},& .${m.middleButton}`]:{borderColor:e.alpha((e.vars||e).palette[r].main,.5)}}}]),{props:{variant:"outlined",orientation:"horizontal"},style:{[`& .${m.firstButton},& .${m.middleButton}`]:{borderRightColor:"transparent","&:hover":{borderRightColor:"currentColor"}},[`& .${m.lastButton},& .${m.middleButton}`]:{marginLeft:-1}}},{props:{variant:"outlined",orientation:"vertical"},style:{[`& .${m.firstButton},& .${m.middleButton}`]:{borderBottomColor:"transparent","&:hover":{borderBottomColor:"currentColor"}},[`& .${m.lastButton},& .${m.middleButton}`]:{marginTop:-1}}},{props:{variant:"contained",orientation:"horizontal"},style:{[`& .${m.firstButton},& .${m.middleButton}`]:{borderRight:`1px solid ${(e.vars||e).palette.grey[400]}`,[`&.${m.disabled}`]:{borderRight:`1px solid ${(e.vars||e).palette.action.disabled}`}}}},{props:{variant:"contained",orientation:"vertical"},style:{[`& .${m.firstButton},& .${m.middleButton}`]:{borderBottom:`1px solid ${(e.vars||e).palette.grey[400]}`,[`&.${m.disabled}`]:{borderBottom:`1px solid ${(e.vars||e).palette.action.disabled}`}}}},...Object.entries(e.palette).filter($e(["dark"])).map(([r])=>({props:{variant:"contained",color:r},style:{[`& .${m.firstButton},& .${m.middleButton}`]:{borderColor:(e.vars||e).palette[r].dark}}}))],[`& .${m.grouped}`]:{minWidth:40}}))),vr=u.forwardRef(function(r,s){const o=kt({props:r,name:"MuiButtonGroup"}),{children:l,className:a,color:v="primary",component:p="div",disabled:c=!1,disableElevation:g=!1,disableFocusRipple:y=!1,disableRipple:B=!1,fullWidth:w=!1,orientation:O="horizontal",size:V="medium",variant:R="outlined",...U}=o,h={...o,color:v,component:p,disabled:c,disableElevation:g,disableFocusRipple:y,disableRipple:B,fullWidth:w,orientation:O,size:V,variant:R},d=fr(h),f=u.useMemo(()=>({className:d.grouped,color:v,disabled:c,disableElevation:g,disableFocusRipple:y,disableRipple:B,fullWidth:w,size:V,variant:R}),[v,c,g,y,B,w,V,R,d.grouped]),T=mr(l),H=T.length,Re=Y=>{const J=Y===0,ne=Y===H-1;return J&&ne?"":J?d.firstButton:ne?d.lastButton:d.middleButton};return t.jsx(br,{as:p,role:"group",className:Se(d.root,a),ref:s,ownerState:h,...U,children:t.jsx(Ot.Provider,{value:f,children:T.map((Y,J)=>t.jsx(Dt.Provider,{value:Re(J),children:Y},J))})})}),xr={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};function yr(e,r,s=(o,l)=>o===l){return e.length===r.length&&e.every((o,l)=>s(o,r[l]))}const Sr=2;function ye(e,r,s,o,l){return s===1?Math.min(e+r,l):Math.max(e-r,o)}function Pt(e,r){return e-r}function ft(e,r){const{index:s}=e.reduce((o,l,a)=>{const v=Math.abs(r-l);return o===null||v<o.distance||v===o.distance?{distance:v,index:a}:o},null)??{};return s}function Ve(e,r){if(r.current!==void 0&&e.changedTouches){const s=e;for(let o=0;o<s.changedTouches.length;o+=1){const l=s.changedTouches[o];if(l.identifier===r.current)return{x:l.clientX,y:l.clientY}}return!1}return{x:e.clientX,y:e.clientY}}function Je(e,r,s){return(e-r)*100/(s-r)}function jr(e,r,s){return(s-r)*e+r}function kr(e){if(Math.abs(e)<1){const s=e.toExponential().split("e-"),o=s[0].split(".")[1];return(o?o.length:0)+parseInt(s[1],10)}const r=e.toString().split(".")[1];return r?r.length:0}function wr(e,r,s){const o=Math.round((e-s)/r)*r+s;return Number(o.toFixed(kr(r)))}function bt({values:e,newValue:r,index:s}){const o=e.slice();return o[s]=r,o.sort(Pt)}function He({sliderRef:e,activeIndex:r,setActive:s}){const o=Ke(e.current);(!e.current?.contains(o.activeElement)||Number(o?.activeElement?.getAttribute("data-index"))!==r)&&e.current?.querySelector(`[type="range"][data-index="${r}"]`).focus(),s&&s(r)}function Fe(e,r){return typeof e=="number"&&typeof r=="number"?e===r:typeof e=="object"&&typeof r=="object"?yr(e,r):!1}const Cr={horizontal:{offset:e=>({left:`${e}%`}),leap:e=>({width:`${e}%`})},"horizontal-reverse":{offset:e=>({right:`${e}%`}),leap:e=>({width:`${e}%`})},vertical:{offset:e=>({bottom:`${e}%`}),leap:e=>({height:`${e}%`})}},Lr=e=>e;let We;function vt(){return We===void 0&&(typeof CSS<"u"&&typeof CSS.supports=="function"?We=CSS.supports("touch-action","none"):We=!0),We}function Br(e){const{"aria-labelledby":r,defaultValue:s,disabled:o=!1,disableSwap:l=!1,isRtl:a=!1,marks:v=!1,max:p=100,min:c=0,name:g,onChange:y,onChangeCommitted:B,orientation:w="horizontal",rootRef:O,scale:V=Lr,step:R=1,shiftStep:U=10,tabIndex:h,value:d}=e,f=u.useRef(void 0),[T,H]=u.useState(-1),[Re,Y]=u.useState(-1),[J,ne]=u.useState(!1),fe=u.useRef(0),ke=u.useRef(null),[K,F]=At({controlled:d,default:s??c,name:"Slider"}),E=y&&((i,n,b)=>{const j=i.nativeEvent||i,S=new j.constructor(j.type,j);Object.defineProperty(S,"target",{writable:!0,value:{value:n,name:g}}),ke.current=n,y(S,n,b)}),be=Array.isArray(K);let P=be?K.slice().sort(Pt):[K];P=P.map(i=>i==null?c:Be(i,c,p));const we=v===!0&&R!==null?[...Array(Math.floor((p-c)/R)+1)].map((i,n)=>({value:c+R*n})):v||[],$=we.map(i=>i.value),[te,ve]=u.useState(-1),k=u.useRef(null),ie=Nt(O,k),qe=i=>n=>{const b=Number(n.currentTarget.getAttribute("data-index"));ct(n.target)&&ve(b),Y(b),i?.onFocus?.(n)},Ze=i=>n=>{ct(n.target)||ve(-1),Y(-1),i?.onBlur?.(n)},Te=(i,n)=>{const b=Number(i.currentTarget.getAttribute("data-index")),j=P[b],S=$.indexOf(j);let x=n;if(we&&R==null){const W=$[$.length-1];x>=W?x=W:x<=$[0]?x=$[0]:x=x<j?$[S-1]:$[S+1]}if(x=Be(x,c,p),be){l&&(x=Be(x,P[b-1]||-1/0,P[b+1]||1/0));const W=x;x=bt({values:P,newValue:x,index:b});let G=b;l||(G=x.indexOf(W)),He({sliderRef:k,activeIndex:G})}F(x),ve(b),E&&!Fe(x,K)&&E(i,x,b),B&&B(i,ke.current??x)},Qe=i=>n=>{if(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","PageUp","PageDown","Home","End"].includes(n.key)){n.preventDefault();const b=Number(n.currentTarget.getAttribute("data-index")),j=P[b];let S=null;if(R!=null){const x=n.shiftKey?U:R;switch(n.key){case"ArrowUp":S=ye(j,x,1,c,p);break;case"ArrowRight":S=ye(j,x,a?-1:1,c,p);break;case"ArrowDown":S=ye(j,x,-1,c,p);break;case"ArrowLeft":S=ye(j,x,a?1:-1,c,p);break;case"PageUp":S=ye(j,U,1,c,p);break;case"PageDown":S=ye(j,U,-1,c,p);break;case"Home":S=c;break;case"End":S=p;break}}else if(we){const x=$[$.length-1],W=$.indexOf(j),G=[a?"ArrowRight":"ArrowLeft","ArrowDown","PageDown","Home"],I=[a?"ArrowLeft":"ArrowRight","ArrowUp","PageUp","End"];G.includes(n.key)?W===0?S=$[0]:S=$[W-1]:I.includes(n.key)&&(W===$.length-1?S=x:S=$[W+1])}S!=null&&Te(n,S)}i?.onKeyDown?.(n)};Vt(()=>{o&&k.current.contains(document.activeElement)&&document.activeElement?.blur()},[o]),o&&T!==-1&&H(-1),o&&te!==-1&&ve(-1);const Pe=i=>n=>{i.onChange?.(n),Te(n,n.target.valueAsNumber)},le=u.useRef(void 0);let ce=w;a&&w==="horizontal"&&(ce+="-reverse");const de=({finger:i,move:n=!1})=>{const{current:b}=k,{width:j,height:S,bottom:x,left:W}=b.getBoundingClientRect();let G;ce.startsWith("vertical")?G=(x-i.y)/S:G=(i.x-W)/j,ce.includes("-reverse")&&(G=1-G);let I;if(I=jr(G,c,p),R)I=wr(I,R,c);else{const Le=ft($,I);I=$[Le]}I=Be(I,c,p);let Z=0;if(be){n?Z=le.current:Z=ft(P,I),l&&(I=Be(I,P[Z-1]||-1/0,P[Z+1]||1/0));const Le=I;I=bt({values:P,newValue:I,index:Z}),l&&n||(Z=I.indexOf(Le),le.current=Z)}return{newValue:I,activeIndex:Z}},ue=at(i=>{const n=Ve(i,f);if(!n)return;if(fe.current+=1,i.type==="mousemove"&&i.buttons===0){q(i);return}const{newValue:b,activeIndex:j}=de({finger:n,move:!0});He({sliderRef:k,activeIndex:j,setActive:H}),F(b),!J&&fe.current>Sr&&ne(!0),E&&!Fe(b,K)&&E(i,b,j)}),q=at(i=>{const n=Ve(i,f);if(ne(!1),!n)return;const{newValue:b}=de({finger:n,move:!0});H(-1),i.type==="touchend"&&Y(-1),B&&B(i,ke.current??b),f.current=void 0,pe()}),A=at(i=>{if(o)return;vt()||i.preventDefault();const n=i.changedTouches[0];n!=null&&(f.current=n.identifier);const b=Ve(i,f);if(b!==!1){const{newValue:S,activeIndex:x}=de({finger:b});He({sliderRef:k,activeIndex:x,setActive:H}),F(S),E&&!Fe(S,K)&&E(i,S,x)}fe.current=0;const j=Ke(k.current);j.addEventListener("touchmove",ue,{passive:!0}),j.addEventListener("touchend",q,{passive:!0})}),pe=u.useCallback(()=>{const i=Ke(k.current);i.removeEventListener("mousemove",ue),i.removeEventListener("mouseup",q),i.removeEventListener("touchmove",ue),i.removeEventListener("touchend",q)},[q,ue]);u.useEffect(()=>{const{current:i}=k;return i.addEventListener("touchstart",A,{passive:vt()}),()=>{i.removeEventListener("touchstart",A),pe()}},[pe,A]),u.useEffect(()=>{o&&pe()},[o,pe]);const et=i=>n=>{if(i.onMouseDown?.(n),o||n.defaultPrevented||n.button!==0)return;n.preventDefault();const b=Ve(n,f);if(b!==!1){const{newValue:S,activeIndex:x}=de({finger:b});He({sliderRef:k,activeIndex:x,setActive:H}),F(S),E&&!Fe(S,K)&&E(n,S,x)}fe.current=0;const j=Ke(k.current);j.addEventListener("mousemove",ue,{passive:!0}),j.addEventListener("mouseup",q)},ze=Je(be?P[0]:c,c,p),N=Je(P[P.length-1],c,p)-ze,Ce=(i={})=>{const n=nt(i),b={onMouseDown:et(n||{})},j={...n,...b};return{...i,ref:ie,...j}},Ie=i=>n=>{i.onMouseOver?.(n);const b=Number(n.currentTarget.getAttribute("data-index"));Y(b)},Ee=i=>n=>{i.onMouseLeave?.(n),Y(-1)},Me=(i={})=>{const n=nt(i),b={onMouseOver:Ie(n||{}),onMouseLeave:Ee(n||{})};return{...i,...n,...b}},Oe=i=>({pointerEvents:T!==-1&&T!==i?"none":void 0});let xe;return w==="vertical"&&(xe=a?"vertical-rl":"vertical-lr"),{active:T,axis:ce,axisProps:Cr,dragging:J,focusedThumbIndex:te,getHiddenInputProps:(i={})=>{const n=nt(i),b={onChange:Pe(n||{}),onFocus:qe(n||{}),onBlur:Ze(n||{}),onKeyDown:Qe(n||{})},j={...n,...b};return{tabIndex:h,"aria-labelledby":r,"aria-orientation":w,"aria-valuemax":V(p),"aria-valuemin":V(c),name:g,type:"range",min:e.min,max:e.max,step:e.step===null&&e.marks?"any":e.step??void 0,disabled:o,...i,...j,style:{...xr,direction:a?"rtl":"ltr",width:"100%",height:"100%",writingMode:xe}}},getRootProps:Ce,getThumbProps:Me,marks:we,open:Re,range:be,rootRef:ie,trackLeap:N,trackOffset:ze,values:P,getThumbStyle:Oe}}const $r=e=>!e||!Ge(e);function _r(e){return St("MuiSlider",e)}const X=jt("MuiSlider",["root","active","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","disabled","dragging","focusVisible","mark","markActive","marked","markLabel","markLabelActive","rail","sizeSmall","thumb","thumbColorPrimary","thumbColorSecondary","thumbColorError","thumbColorSuccess","thumbColorInfo","thumbColorWarning","track","trackInverted","trackFalse","thumbSizeSmall","valueLabel","valueLabelOpen","valueLabelCircle","valueLabelLabel","vertical"]),Rr=e=>{const{open:r}=e;return{offset:Se(r&&X.valueLabelOpen),circle:X.valueLabelCircle,label:X.valueLabelLabel}};function Tr(e){const{children:r,className:s,value:o}=e,l=Rr(e);return r?u.cloneElement(r,{className:r.props.className},t.jsxs(u.Fragment,{children:[r.props.children,t.jsx("span",{className:Se(l.offset,s),"aria-hidden":!0,children:t.jsx("span",{className:l.circle,children:t.jsx("span",{className:l.label,children:o})})})]})):null}function xt(e){return e}const Pr=ae("span",{name:"MuiSlider",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:s}=e;return[r.root,r[`color${_(s.color)}`],s.size!=="medium"&&r[`size${_(s.size)}`],s.marked&&r.marked,s.orientation==="vertical"&&r.vertical,s.track==="inverted"&&r.trackInverted,s.track===!1&&r.trackFalse]}})(ge(({theme:e})=>({borderRadius:12,boxSizing:"content-box",display:"inline-block",position:"relative",cursor:"pointer",touchAction:"none",WebkitTapHighlightColor:"transparent","@media print":{colorAdjust:"exact"},[`&.${X.disabled}`]:{pointerEvents:"none",cursor:"default",color:(e.vars||e).palette.grey[400]},[`&.${X.dragging}`]:{[`& .${X.thumb}, & .${X.track}`]:{transition:"none"}},variants:[...Object.entries(e.palette).filter($e()).map(([r])=>({props:{color:r},style:{color:(e.vars||e).palette[r].main}})),{props:{orientation:"horizontal"},style:{height:4,width:"100%",padding:"13px 0","@media (pointer: coarse)":{padding:"20px 0"}}},{props:{orientation:"horizontal",size:"small"},style:{height:2}},{props:{orientation:"horizontal",marked:!0},style:{marginBottom:20}},{props:{orientation:"vertical"},style:{height:"100%",width:4,padding:"0 13px","@media (pointer: coarse)":{padding:"0 20px"}}},{props:{orientation:"vertical",size:"small"},style:{width:2}},{props:{orientation:"vertical",marked:!0},style:{marginRight:44}}]}))),zr=ae("span",{name:"MuiSlider",slot:"Rail"})({display:"block",position:"absolute",borderRadius:"inherit",backgroundColor:"currentColor",opacity:.38,variants:[{props:{orientation:"horizontal"},style:{width:"100%",height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{height:"100%",width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:"inverted"},style:{opacity:1}}]}),Ir=ae("span",{name:"MuiSlider",slot:"Track"})(ge(({theme:e})=>({display:"block",position:"absolute",borderRadius:"inherit",border:"1px solid currentColor",backgroundColor:"currentColor",transition:e.transitions.create(["left","width","bottom","height"],{duration:e.transitions.duration.shortest}),variants:[{props:{size:"small"},style:{border:"none"}},{props:{orientation:"horizontal"},style:{height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:!1},style:{display:"none"}},...Object.entries(e.palette).filter($e()).map(([r])=>({props:{color:r,track:"inverted"},style:{...e.vars?{backgroundColor:e.vars.palette.Slider[`${r}Track`],borderColor:e.vars.palette.Slider[`${r}Track`]}:{backgroundColor:e.lighten(e.palette[r].main,.62),borderColor:e.lighten(e.palette[r].main,.62),...e.applyStyles("dark",{backgroundColor:e.darken(e.palette[r].main,.5)}),...e.applyStyles("dark",{borderColor:e.darken(e.palette[r].main,.5)})}}}))]}))),Er=ae("span",{name:"MuiSlider",slot:"Thumb",overridesResolver:(e,r)=>{const{ownerState:s}=e;return[r.thumb,r[`thumbColor${_(s.color)}`],s.size!=="medium"&&r[`thumbSize${_(s.size)}`]]}})(ge(({theme:e})=>({position:"absolute",width:20,height:20,boxSizing:"border-box",borderRadius:"50%",outline:0,backgroundColor:"currentColor",display:"flex",alignItems:"center",justifyContent:"center",transition:e.transitions.create(["box-shadow","left","bottom"],{duration:e.transitions.duration.shortest}),"&::before":{position:"absolute",content:'""',borderRadius:"inherit",width:"100%",height:"100%",boxShadow:(e.vars||e).shadows[2]},"&::after":{position:"absolute",content:'""',borderRadius:"50%",width:42,height:42,top:"50%",left:"50%",transform:"translate(-50%, -50%)"},[`&.${X.disabled}`]:{"&:hover":{boxShadow:"none"}},variants:[{props:{size:"small"},style:{width:12,height:12,"&::before":{boxShadow:"none"}}},{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-50%, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 50%)"}},...Object.entries(e.palette).filter($e()).map(([r])=>({props:{color:r},style:{[`&:hover, &.${X.focusVisible}`]:{boxShadow:`0px 0px 0px 8px ${e.alpha((e.vars||e).palette[r].main,.16)}`,"@media (hover: none)":{boxShadow:"none"}},[`&.${X.active}`]:{boxShadow:`0px 0px 0px 14px ${e.alpha((e.vars||e).palette[r].main,.16)}`}}}))]}))),Mr=ae(Tr,{name:"MuiSlider",slot:"ValueLabel"})(ge(({theme:e})=>({zIndex:1,whiteSpace:"nowrap",...e.typography.body2,fontWeight:500,transition:e.transitions.create(["transform"],{duration:e.transitions.duration.shortest}),position:"absolute",backgroundColor:(e.vars||e).palette.grey[600],borderRadius:2,color:(e.vars||e).palette.common.white,display:"flex",alignItems:"center",justifyContent:"center",padding:"0.25rem 0.75rem",variants:[{props:{orientation:"horizontal"},style:{transform:"translateY(-100%) scale(0)",top:"-10px",transformOrigin:"bottom center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, 50%) rotate(45deg)",backgroundColor:"inherit",bottom:0,left:"50%"},[`&.${X.valueLabelOpen}`]:{transform:"translateY(-100%) scale(1)"}}},{props:{orientation:"vertical"},style:{transform:"translateY(-50%) scale(0)",right:"30px",top:"50%",transformOrigin:"right center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, -50%) rotate(45deg)",backgroundColor:"inherit",right:-8,top:"50%"},[`&.${X.valueLabelOpen}`]:{transform:"translateY(-50%) scale(1)"}}},{props:{size:"small"},style:{fontSize:e.typography.pxToRem(12),padding:"0.25rem 0.5rem"}},{props:{orientation:"vertical",size:"small"},style:{right:"20px"}}]}))),Or=ae("span",{name:"MuiSlider",slot:"Mark",shouldForwardProp:e=>Ct(e)&&e!=="markActive",overridesResolver:(e,r)=>{const{markActive:s}=e;return[r.mark,s&&r.markActive]}})(ge(({theme:e})=>({position:"absolute",width:2,height:2,borderRadius:1,backgroundColor:"currentColor",variants:[{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-1px, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 1px)"}},{props:{markActive:!0},style:{backgroundColor:(e.vars||e).palette.background.paper,opacity:.8}}]}))),Dr=ae("span",{name:"MuiSlider",slot:"MarkLabel",shouldForwardProp:e=>Ct(e)&&e!=="markLabelActive"})(ge(({theme:e})=>({...e.typography.body2,color:(e.vars||e).palette.text.secondary,position:"absolute",whiteSpace:"nowrap",variants:[{props:{orientation:"horizontal"},style:{top:30,transform:"translateX(-50%)","@media (pointer: coarse)":{top:40}}},{props:{orientation:"vertical"},style:{left:36,transform:"translateY(50%)","@media (pointer: coarse)":{left:44}}},{props:{markLabelActive:!0},style:{color:(e.vars||e).palette.text.primary}}]}))),Ar=e=>{const{disabled:r,dragging:s,marked:o,orientation:l,track:a,classes:v,color:p,size:c}=e,g={root:["root",r&&"disabled",s&&"dragging",o&&"marked",l==="vertical"&&"vertical",a==="inverted"&&"trackInverted",a===!1&&"trackFalse",p&&`color${_(p)}`,c&&`size${_(c)}`],rail:["rail"],track:["track"],mark:["mark"],markActive:["markActive"],markLabel:["markLabel"],markLabelActive:["markLabelActive"],valueLabel:["valueLabel"],thumb:["thumb",r&&"disabled",c&&`thumbSize${_(c)}`,p&&`thumbColor${_(p)}`],active:["active"],disabled:["disabled"],focusVisible:["focusVisible"]};return wt(g,_r,v)},Nr=({children:e})=>e,Vr=u.forwardRef(function(r,s){const o=kt({props:r,name:"MuiSlider"}),l=Ht(),{"aria-label":a,"aria-valuetext":v,"aria-labelledby":p,component:c="span",components:g={},componentsProps:y={},color:B="primary",classes:w,className:O,disableSwap:V=!1,disabled:R=!1,getAriaLabel:U,getAriaValueText:h,marks:d=!1,max:f=100,min:T=0,name:H,onChange:Re,onChangeCommitted:Y,orientation:J="horizontal",shiftStep:ne=10,size:fe="medium",step:ke=1,scale:K=xt,slotProps:F,slots:E,tabIndex:be,track:P="normal",value:we,valueLabelDisplay:$="off",valueLabelFormat:te=xt,...ve}=o,k={...o,isRtl:l,max:f,min:T,classes:w,disabled:R,disableSwap:V,orientation:J,marks:d,color:B,size:fe,step:ke,shiftStep:ne,scale:K,track:P,valueLabelDisplay:$,valueLabelFormat:te},{axisProps:ie,getRootProps:qe,getHiddenInputProps:Ze,getThumbProps:Te,open:Qe,active:Pe,axis:le,focusedThumbIndex:ce,range:de,dragging:ue,marks:q,values:A,trackOffset:pe,trackLeap:et,getThumbStyle:ze}=Br({...k,rootRef:s});k.marked=q.length>0&&q.some(z=>z.label),k.dragging=ue,k.focusedThumbIndex=ce;const N=Ar(k),Ce=E?.root??g.Root??Pr,Ie=E?.rail??g.Rail??zr,Ee=E?.track??g.Track??Ir,Me=E?.thumb??g.Thumb??Er,Oe=E?.valueLabel??g.ValueLabel??Mr,xe=E?.mark??g.Mark??Or,De=E?.markLabel??g.MarkLabel??Dr,i=E?.input??g.Input??"input",n=F?.root??y.root,b=F?.rail??y.rail,j=F?.track??y.track,S=F?.thumb??y.thumb,x=F?.valueLabel??y.valueLabel,W=F?.mark??y.mark,G=F?.markLabel??y.markLabel,I=F?.input??y.input,Z=re({elementType:Ce,getSlotProps:qe,externalSlotProps:n,externalForwardedProps:ve,additionalProps:{...$r(Ce)&&{as:c}},ownerState:{...k,...n?.ownerState},className:[N.root,O]}),Le=re({elementType:Ie,externalSlotProps:b,ownerState:k,className:N.rail}),It=re({elementType:Ee,externalSlotProps:j,additionalProps:{style:{...ie[le].offset(pe),...ie[le].leap(et)}},ownerState:{...k,...j?.ownerState},className:N.track}),tt=re({elementType:Me,getSlotProps:Te,externalSlotProps:S,ownerState:{...k,...S?.ownerState},className:N.thumb}),Et=re({elementType:Oe,externalSlotProps:x,ownerState:{...k,...x?.ownerState},className:N.valueLabel}),rt=re({elementType:xe,externalSlotProps:W,ownerState:k,className:N.mark}),st=re({elementType:De,externalSlotProps:G,ownerState:k,className:N.markLabel}),Mt=re({elementType:i,getSlotProps:Ze,externalSlotProps:I,ownerState:k});return t.jsxs(Ce,{...Z,children:[t.jsx(Ie,{...Le}),t.jsx(Ee,{...It}),q.filter(z=>z.value>=T&&z.value<=f).map((z,M)=>{const ot=Je(z.value,T,f),Ae=ie[le].offset(ot);let Q;return P===!1?Q=A.includes(z.value):Q=P==="normal"&&(de?z.value>=A[0]&&z.value<=A[A.length-1]:z.value<=A[0])||P==="inverted"&&(de?z.value<=A[0]||z.value>=A[A.length-1]:z.value>=A[0]),t.jsxs(u.Fragment,{children:[t.jsx(xe,{"data-index":M,...rt,...!Ge(xe)&&{markActive:Q},style:{...Ae,...rt.style},className:Se(rt.className,Q&&N.markActive)}),z.label!=null?t.jsx(De,{"aria-hidden":!0,"data-index":M,...st,...!Ge(De)&&{markLabelActive:Q},style:{...Ae,...st.style},className:Se(N.markLabel,st.className,Q&&N.markLabelActive),children:z.label}):null]},M)}),A.map((z,M)=>{const ot=Je(z,T,f),Ae=ie[le].offset(ot),Q=$==="off"?Nr:Oe;return t.jsx(Q,{...!Ge(Q)&&{valueLabelFormat:te,valueLabelDisplay:$,value:typeof te=="function"?te(K(z),M):te,index:M,open:Qe===M||Pe===M||$==="on",disabled:R},...Et,children:t.jsx(Me,{"data-index":M,...tt,className:Se(N.thumb,tt.className,Pe===M&&N.active,ce===M&&N.focusVisible),style:{...Ae,...ze(M),...tt.style},children:t.jsx(i,{"data-index":M,"aria-label":U?U(M):a,"aria-valuenow":K(z),"aria-labelledby":p,"aria-valuetext":h?h(K(z),M):v,value:A[M],...Mt})})},M)})]})}),Hr=je(t.jsx("path",{d:"M7.5 5.6 10 7 8.6 4.5 10 2 7.5 3.4 5 2l1.4 2.5L5 7zm12 9.8L17 14l1.4 2.5L17 19l2.5-1.4L22 19l-1.4-2.5L22 14zM22 2l-2.5 1.4L17 2l1.4 2.5L17 7l2.5-1.4L22 7l-1.4-2.5zm-7.63 5.29a.996.996 0 0 0-1.41 0L1.29 18.96c-.39.39-.39 1.02 0 1.41l2.34 2.34c.39.39 1.02.39 1.41 0L16.7 11.05c.39-.39.39-1.02 0-1.41zm-1.03 5.49-2.12-2.12 2.44-2.44 2.12 2.12z"})),Fr=je(t.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2m5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12z"})),Wr=je(t.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zm2.46-7.12 1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"})),yt=je(t.jsx("path",{d:"M12 17c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m6-9h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6h1.9c0-1.71 1.39-3.1 3.1-3.1s3.1 1.39 3.1 3.1v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2m0 12H6V10h12z"})),Ur=je(t.jsx("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3m3-10H5V5h10z"})),Kr=je(t.jsx("path",{d:"m12 16.5 4-4h-3v-9h-2v9H8zm9-13h-6v1.99h6v14.03H3V5.49h6V3.5H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2v-14c0-1.1-.9-2-2-2"})),Gr=({tableName:e,item:r,primaryKey:s})=>{const[o,l]=u.useState(!1),[a,v]=u.useState(JSON.stringify(r,null,2)),[p,c]=u.useState(null),g=async()=>{try{const B=JSON.parse(a);await _e.table(e).put(B),l(!1),c(null)}catch(B){c(B instanceof Error?B.message:"Invalid JSON")}},y=async()=>{confirm("Are you sure you want to delete this record?")&&await _e.table(e).delete(s)};return o?t.jsxs(C,{sx:{p:1},children:[t.jsx(Ye,{fullWidth:!0,multiline:!0,minRows:3,value:a,onChange:B=>v(B.target.value),variant:"outlined",size:"small",sx:{fontFamily:"monospace",mb:1}}),p&&t.jsx(me,{severity:"error",sx:{mb:1},children:p}),t.jsxs(ar,{direction:"row",spacing:1,justifyContent:"flex-end",children:[t.jsx(D,{startIcon:t.jsx(Fr,{}),onClick:()=>{l(!1),v(JSON.stringify(r,null,2)),c(null)},size:"small",children:"Cancel"}),t.jsx(D,{startIcon:t.jsx(Ur,{}),onClick:g,variant:"contained",size:"small",children:"Save"})]})]}):t.jsxs(C,{children:[t.jsxs(C,{sx:{display:"flex",justifyContent:"flex-end",mb:1},children:[t.jsx(dt,{size:"small",onClick:()=>l(!0),children:t.jsx(nr,{fontSize:"small"})}),t.jsx(dt,{size:"small",onClick:y,color:"error",children:t.jsx(Tt,{fontSize:"small"})})]}),t.jsx(C,{component:"pre",sx:{overflowX:"auto",fontSize:"0.75rem",m:0,p:1,bgcolor:"action.hover",borderRadius:1},children:JSON.stringify(r,null,2)})]})},Xr=({tableName:e})=>{const{t:r}=he(["settings"]),s=Ft(()=>_e.table(e).toArray(),[e]),l=_e.table(e).schema.primKey.name;return s?s.length===0?t.jsx(L,{children:r("settings:developer.no_records")}):t.jsx(Wt,{children:s.map((a,v)=>{const p=a[l];return t.jsx(Ut,{disablePadding:!0,children:t.jsxs(Kt,{sx:{width:"100%"},children:[t.jsx(Gt,{expandIcon:t.jsx(Xt,{}),children:t.jsx(L,{noWrap:!0,children:String(a.id||a.name||a.key||`Record ${v}`)})}),t.jsx(Yt,{children:t.jsx(Gr,{tableName:e,item:a,primaryKey:p})})]})},p||v)})}):t.jsx(L,{children:r("settings:developer.loading")})},Yr=()=>{const{t:e}=he(["settings"]),[r,s]=u.useState(""),o=_e.tables.map(a=>a.name),l=a=>{s(a.target.value)};return t.jsxs(C,{sx:{mt:2},children:[t.jsxs(Lt,{fullWidth:!0,size:"small",sx:{mb:2},children:[t.jsx(Bt,{children:e("settings:developer.select_table")}),t.jsx($t,{value:r,label:e("settings:developer.select_table"),onChange:l,children:o.map(a=>t.jsx(Xe,{value:a,children:a},a))})]}),r&&t.jsx(Xr,{tableName:r})]})},Jr=()=>{const{t:e}=he(["settings"]),{debugLogs:r,clearDebugLogs:s}=lt(),o=r.filter(a=>a.type==="packet").sort((a,v)=>new Date(v.timestamp).getTime()-new Date(a.timestamp).getTime()),l=a=>a===void 0?"UNKNOWN":Jt[a]||`OP_${a.toString(16).toUpperCase()}`;return t.jsxs(C,{sx:{mt:4},children:[t.jsxs(C,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[t.jsx(L,{variant:"h6",children:e("settings:developer.packet_logger_title")}),t.jsx(D,{variant:"outlined",color:"error",startIcon:t.jsx(Tt,{}),onClick:s,size:"small",children:e("settings:developer.clear_logs")})]}),t.jsx(_t,{variant:"outlined",sx:{width:"100%",overflow:"hidden"},children:t.jsx(C,{sx:{maxHeight:400,overflowY:"auto"},children:t.jsxs(ir,{stickyHeader:!0,size:"small",children:[t.jsx(lr,{children:t.jsxs(it,{children:[t.jsx(ee,{children:"Time"}),t.jsx(ee,{children:"Dir"}),t.jsx(ee,{children:"Opcode"}),t.jsx(ee,{children:"Payload (Hex)"})]})}),t.jsx(cr,{children:o.length>0?o.map(a=>t.jsxs(it,{hover:!0,children:[t.jsx(ee,{sx:{whiteSpace:"nowrap",fontSize:"0.75rem"},children:new Date(a.timestamp).toLocaleTimeString([],{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit",fractionalSecondDigits:3})}),t.jsx(ee,{children:t.jsx(dr,{label:a.direction,color:a.direction==="TX"?"primary":"success",size:"small",sx:{fontSize:"0.7rem",height:20}})}),t.jsx(ee,{sx:{fontSize:"0.75rem",fontWeight:"bold"},children:l(a.opcode)}),t.jsx(ee,{sx:{fontFamily:"monospace",fontSize:"0.75rem",wordBreak:"break-all"},children:a.payload||"-"})]},a.id)):t.jsx(it,{children:t.jsx(ee,{colSpan:4,align:"center",children:t.jsx(L,{variant:"body2",color:"text.secondary",sx:{py:2},children:e("settings:developer.no_records")})})})})]})})})]})},qr=e=>Zt[e]||`UNKNOWN_OPCODE_${e}`,zt={},Zr=(e,r)=>{zt[e]=r},Qr=()=>{const{t:e}=he(["settings"]),{sendPacket:r,isConnected:s}=lt(),[o,l]=u.useState(""),[a,v]=u.useState({}),[p,c]=u.useState(null),[g,y]=u.useState(null),B=u.useMemo(()=>Array.from(ut.getRegisteredTXPackets().entries()).sort((h,d)=>h[0]-d[0]),[]),w=u.useMemo(()=>o===""?null:ut.getRegisteredTXPackets().get(o),[o]),O=u.useMemo(()=>!w||!w.schema?null:w.schema instanceof qt?w.schema.shape:null,[w]);u.useEffect(()=>{if(!O){setTimeout(()=>v({}),0);return}const h={};Object.keys(O).forEach(d=>{h[d]=zt[d]||""}),setTimeout(()=>v(h),0)},[O]);const V=h=>{l(h.target.value),c(null),y(null)},R=(h,d)=>{v(f=>({...f,[h]:d})),Zr(h,d),c(null),y(null)},U=async()=>{if(w){c(null),y(null);try{let h={};if(w.schema){const f=w.schema.safeParse(a);if(!f.success){const T=f.error.errors.map(H=>`${H.path.join(".")}: ${H.message}`).join(", ");c(T);return}h=f.data}const d=new w;Object.assign(d,h),await r(d),console.log("Packet sent successfully",d),y(e("settings:developer.packet_sent_success"))}catch(h){console.error("Failed to send packet",h);const d=h instanceof Error?h.message:String(h);c(d||e("settings:developer.packet_send_error"))}}};return t.jsxs(C,{sx:{display:"flex",flexDirection:"column",gap:3},children:[t.jsx(me,{severity:s?"success":"warning",children:e(s?"settings:developer.enabled_success":"settings:developer.not_connected_warning")}),t.jsxs(Lt,{fullWidth:!0,children:[t.jsx(Bt,{children:e("settings:developer.packet_type_label")}),t.jsx($t,{value:o,label:e("settings:developer.packet_type_label"),onChange:V,children:B.map(([h])=>t.jsxs(Xe,{value:h,children:[qr(h)," (",h,")"]},h))})]}),w&&t.jsxs(_t,{variant:"outlined",sx:{p:2},children:[t.jsx(L,{variant:"h6",gutterBottom:!0,children:e("settings:developer.packet_parameters_title")}),t.jsxs(C,{sx:{display:"flex",flexDirection:"column",gap:2},children:[O?Object.keys(O).length>0?Object.keys(O).map(h=>{const d=O[h];let f=!1;const T=d._def.typeName;return(T==="ZodNumber"||T==="ZodEffects"&&d._def.schema?._def.typeName==="ZodNumber")&&(f=!0),t.jsx(Ye,{label:h,variant:"outlined",fullWidth:!0,type:f?"number":"text",value:a[h]||"",onChange:H=>R(h,H.target.value),helperText:f?"Number":"String"},h)}):t.jsx(L,{color:"text.secondary",children:e("settings:developer.no_parameters")}):t.jsx(L,{color:"text.secondary",children:e("settings:developer.no_schema")}),p&&t.jsx(me,{severity:"error",children:p}),g&&t.jsx(me,{severity:"success",children:g}),t.jsx(D,{variant:"contained",onClick:U,disabled:!s&&!window.BOKS_SIMULATOR_ENABLED,children:e("settings:developer.send_packet")})]})]}),t.jsx(Jr,{})]})},es=()=>{const{t:e}=he(["settings"]),[r,s]=u.useState([]),[o,l]=u.useState(null),a=async()=>{if("serviceWorker"in navigator){const g=await navigator.serviceWorker.getRegistrations();s([...g])}};u.useEffect(()=>{a()},[]);const v=async g=>{try{await g.update(),l(e("settings:developer.sw_update_requested")),a()}catch(y){l(e("settings:developer.sw_update_failed",{error:String(y)}))}},p=async g=>{try{const y=await g.unregister();l(e(y?"settings:developer.sw_unregister_success":"settings:developer.sw_unregister_failed")),a()}catch(y){l(e("settings:developer.sw_unregister_error",{error:String(y)}))}},c=()=>{window.location.reload()};return"serviceWorker"in navigator?t.jsx(se,{sx:{mt:2},children:t.jsxs(oe,{children:[t.jsx(L,{variant:"h6",gutterBottom:!0,children:e("settings:developer.sw_title")}),t.jsx(Rt,{sx:{mb:2}}),o&&t.jsx(me,{severity:"info",sx:{mb:2},onClose:()=>l(null),children:o}),r.length===0?t.jsx(L,{variant:"body2",color:"text.secondary",children:e("settings:developer.sw_no_active")}):r.map((g,y)=>t.jsxs(C,{sx:{mb:2,p:1,border:"1px solid #ddd",borderRadius:1},children:[t.jsx(L,{variant:"subtitle2",children:e("settings:developer.sw_scope",{scope:g.scope})}),t.jsx(L,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:e("settings:developer.sw_status",{status:g.installing?e("settings:developer.sw_installing"):g.waiting?e("settings:developer.sw_waiting"):g.active?e("settings:developer.sw_active"):e("settings:developer.sw_unknown")})}),t.jsxs(C,{sx:{display:"flex",gap:1,flexWrap:"wrap",mt:1},children:[t.jsx(D,{size:"small",variant:"outlined",startIcon:t.jsx(Kr,{}),onClick:()=>v(g),children:e("settings:developer.sw_check_update")}),t.jsx(D,{size:"small",variant:"outlined",color:"error",startIcon:t.jsx(Wr,{}),onClick:()=>p(g),children:e("settings:developer.sw_unregister")})]})]},y)),t.jsx(C,{sx:{mt:2},children:t.jsx(D,{fullWidth:!0,variant:"contained",color:"primary",startIcon:t.jsx(Qt,{}),onClick:c,children:e("settings:developer.sw_reload")})})]})}):t.jsx(me,{severity:"warning",children:e("settings:developer.sw_not_supported")})},ts=()=>{const{t:e}=he(["settings"]),{toggleSimulator:r,disconnect:s}=lt(),[o,l]=u.useState(()=>window.boksSimulator||null),[a,v]=u.useState(null),[p,c]=u.useState(()=>localStorage.getItem("BOKS_SIMULATOR_ENABLED")==="true"),[g,y]=u.useState(()=>!!window.boksSimulator),[B,w]=u.useState("10/125"),[O,V]=u.useState("4.1.14"),[R,U]=u.useState(!1);u.useEffect(()=>{const d=window.boksSimulator;if(d){const f=setInterval(()=>{v(d.getPublicState())},500);return()=>clearInterval(f)}},[]),u.useEffect(()=>{if(a&&!R){const d=setTimeout(()=>{w(a.firmwareRevision),V(a.softwareRevision),U(!0)},0);return()=>clearTimeout(d)}},[a,R]);const h=(d,f)=>{c(f),r?(r(f),f?setTimeout(()=>{const T=window.boksSimulator;T&&(l(T),y(!0))},500):(y(!1),l(null))):(f?localStorage.setItem("BOKS_SIMULATOR_ENABLED","true"):localStorage.removeItem("BOKS_SIMULATOR_ENABLED"),window.location.reload())};return t.jsxs(C,{sx:{p:2,display:"flex",flexDirection:"column",gap:2},children:[t.jsx(L,{variant:"h6",gutterBottom:!0,children:e("settings:developer.simulator.title")}),t.jsx(se,{variant:"outlined",sx:{mb:1},children:t.jsx(oe,{sx:{py:1,"&:last-child":{pb:1}},children:t.jsx(gt,{control:t.jsx(ht,{checked:p,onChange:h}),label:e("settings:developer.simulator.enable_simulator")})})}),!g&&t.jsx(me,{severity:"warning",children:e("settings:developer.simulator.not_active")}),g&&a&&t.jsxs(t.Fragment,{children:[t.jsx(se,{variant:"outlined",children:t.jsxs(oe,{children:[t.jsxs(C,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[t.jsxs(L,{variant:"subtitle1",sx:{display:"flex",alignItems:"center",gap:1},children:[a.isOpen?t.jsx(yt,{color:"warning"}):t.jsx(mt,{color:"success"}),e("settings:developer.simulator.status",{status:a.isOpen?e("settings:developer.simulator.open"):e("settings:developer.simulator.closed")})]}),t.jsx(gt,{control:t.jsx(ht,{checked:a.chaosMode,onChange:(d,f)=>o?.setChaosMode(f),color:"secondary"}),label:t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:.5},children:[t.jsx(Hr,{fontSize:"small"})," ",e("settings:developer.simulator.chaos_mode")]})})]}),t.jsx(Rt,{sx:{my:1}}),t.jsx(L,{variant:"body2",color:"text.secondary",gutterBottom:!0,sx:{mt:1},children:e("settings:developer.simulator.manual_triggers")}),t.jsxs(vr,{fullWidth:!0,variant:"contained",size:"small",children:[t.jsx(D,{onClick:()=>o?.triggerDoorOpen("ble"),disabled:a.isOpen,startIcon:t.jsx(yt,{}),children:e("settings:developer.simulator.ble_open")}),t.jsx(D,{onClick:()=>o?.triggerDoorOpen("nfc"),disabled:a.isOpen,color:"info",children:e("settings:developer.simulator.nfc_open")}),t.jsx(D,{onClick:()=>o?.triggerDoorOpen("button"),disabled:a.isOpen,color:"warning",children:e("settings:developer.simulator.button_open")})]}),t.jsx(D,{fullWidth:!0,variant:"outlined",size:"small",sx:{mt:1},onClick:()=>o?.triggerDoorClose(),disabled:!a.isOpen,startIcon:t.jsx(mt,{}),children:e("settings:developer.simulator.force_close")})]})}),t.jsx(se,{variant:"outlined",children:t.jsxs(oe,{children:[t.jsx(L,{variant:"subtitle2",gutterBottom:!0,children:"Device Versions"}),t.jsxs(C,{sx:{display:"flex",gap:2,mb:2},children:[t.jsxs(Ye,{select:!0,label:"Hardware / Firmware",value:B,onChange:d=>w(d.target.value),size:"small",fullWidth:!0,children:[Object.entries(er).map(([d,f])=>t.jsxs(Xe,{value:d,children:["HW ",f," (FW ",d,")"]},d)),t.jsx(Xe,{value:"custom",children:"Custom..."})]}),t.jsx(Ye,{label:"Software Revision",value:O,onChange:d=>V(d.target.value),size:"small",fullWidth:!0})]}),t.jsx(D,{variant:"contained",size:"small",onClick:()=>{o?.setVersion(O,B),s()},children:"Update & Reconnect"})]})}),t.jsx(se,{variant:"outlined",children:t.jsxs(oe,{children:[t.jsxs(L,{variant:"subtitle2",sx:{display:"flex",alignItems:"center",gap:1,mb:1},children:[t.jsx(tr,{})," ",e("settings:developer.simulator.battery_level",{level:a.batteryLevel})]}),t.jsx(Vr,{value:a.batteryLevel,onChange:(d,f)=>o?.setBatteryLevel(f),valueLabelDisplay:"auto",min:0,max:100,size:"small"})]})}),t.jsx(se,{variant:"outlined",children:t.jsxs(oe,{children:[t.jsxs(C,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[t.jsxs(L,{variant:"subtitle2",sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsx(rr,{})," ",e("settings:developer.simulator.logs_count",{count:a.logs.length})]}),t.jsx(D,{size:"small",variant:"text",color:"error",onClick:()=>o?.reset(),children:e("settings:developer.simulator.reset")})]}),t.jsx(C,{sx:{mt:1,maxHeight:150,overflow:"auto",fontSize:"0.75rem",fontFamily:"monospace",bgcolor:"rgba(0,0,0,0.03)",p:1,borderRadius:1},children:a.logs.length===0?e("settings:developer.simulator.no_logs"):[...a.logs].reverse().map((d,f)=>t.jsxs("div",{children:["[",new Date(d.timestamp).toLocaleTimeString(),"] Op: 0x",d.opcode.toString(16).toUpperCase()]},f))})]})})]})]})};function Ue(e){const{children:r,value:s,index:o,...l}=e;return t.jsx("div",{role:"tabpanel",hidden:s!==o,id:`simple-tabpanel-${o}`,"aria-labelledby":`simple-tab-${o}`,...l,children:s===o&&t.jsx(C,{sx:{p:2},children:r})})}const us=()=>{const{t:e}=he(["settings"]),r=sr(),{isDeveloperMode:s,disableDeveloperMode:o}=or(),[l,a]=u.useState(0);u.useEffect(()=>{s||r("/")},[s,r]);const v=()=>{o(),r("/")},p=async()=>{try{confirm(e("settings:developer.mock_data_confirm"))&&(await pt.mockData(),alert(e("settings:developer.mock_data_success")))}catch(g){console.error(g),alert(e("settings:developer.mock_data_failed"))}},c=(g,y)=>{a(y)};return t.jsxs(pr,{maxWidth:"md",sx:{py:2},children:[t.jsxs(C,{sx:{mb:3,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[t.jsx(L,{variant:"h4",children:e("settings:developer.page_title")}),t.jsx(D,{variant:"outlined",color:"error",onClick:v,children:e("settings:developer.disable_mode")})]}),t.jsx(C,{sx:{borderBottom:1,borderColor:"divider"},children:t.jsxs(ur,{value:l,onChange:c,variant:"scrollable",scrollButtons:"auto","aria-label":"developer tabs",children:[t.jsx(Ne,{label:e("settings:developer.tabs.general")}),t.jsx(Ne,{label:e("settings:developer.tabs.database")}),t.jsx(Ne,{label:e("settings:developer.tabs.bluetooth")}),t.jsx(Ne,{label:e("settings:developer.tabs.simulator")})]})}),t.jsx(Ue,{value:l,index:0,children:t.jsx(es,{})}),t.jsx(Ue,{value:l,index:1,children:t.jsx(se,{children:t.jsxs(oe,{children:[t.jsxs(C,{sx:{mb:4},children:[t.jsxs(C,{sx:{display:"flex",gap:2},children:[t.jsx(D,{variant:"contained",onClick:p,children:e("settings:developer.load_mock_data")}),t.jsx(D,{variant:"outlined",color:"error",onClick:()=>{confirm(e("settings:developer.clear_db_confirm"))&&pt.clearAllData()},children:e("settings:developer.clear_db")})]}),t.jsx(L,{variant:"caption",display:"block",color:"text.secondary",sx:{mt:1},children:e("settings:developer.mock_data_helper")})]}),t.jsx(L,{variant:"h6",gutterBottom:!0,children:e("settings:developer.db_editor")}),t.jsx(L,{variant:"body2",color:"text.secondary",paragraph:!0,children:e("settings:developer.db_editor_helper")}),t.jsx(Yr,{})]})})}),t.jsx(Ue,{value:l,index:2,children:t.jsx(se,{children:t.jsxs(oe,{children:[t.jsx(L,{variant:"h6",gutterBottom:!0,children:"Bluetooth Debugger"}),t.jsx(Qr,{})]})})}),t.jsx(Ue,{value:l,index:3,children:t.jsx(ts,{})})]})};export{us as DeveloperPage};
