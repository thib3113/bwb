import{g as ye,a as Se,D as ge,u as xe,m as Ze,_ as Je,c as A,b as l,Q as Oe,R as et,d as Ce,s as K,B as tt,e as Be,h as we,U as ie,V as zt,W as ot,X as nt,Y as F,Z as lt,$ as ae,j as Dt,l as T,a0 as fe,f as Y,a1 as Rt,a2 as Et,O as Lt,a3 as Wt,a4 as $t,i as rt,q as st,t as q,a5 as At,T as $,I as Ft,H as Nt,F as Ot,o as z,a6 as he,a7 as Ht,a8 as He,n as ve,k as Kt,v as Ut,a9 as Vt,aa as Xt,ab as Yt}from"./index-v9uWhqPa.js";import{I as Ke,V as Ue,a as Ve}from"./VisibilityOff-Dov8tA7G.js";function qt(t){return ye("MuiTab",t)}const w=Se("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper","icon"]),jt=t=>{const{classes:e,textColor:o,fullWidth:s,wrapped:i,icon:a,label:h,selected:f,disabled:u}=t,y={root:["root",a&&h&&"labelIcon",`textColor${et(o)}`,s&&"fullWidth",i&&"wrapped",f&&"selected",u&&"disabled"],icon:["iconWrapper","icon"]};return Ce(y,qt,e)},Gt=K(tt,{name:"MuiTab",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:o}=t;return[e.root,o.label&&o.icon&&e.labelIcon,e[`textColor${et(o.textColor)}`],o.fullWidth&&e.fullWidth,o.wrapped&&e.wrapped,{[`& .${w.iconWrapper}`]:e.iconWrapper},{[`& .${w.icon}`]:e.icon}]}})(Be(({theme:t})=>({...t.typography.button,maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center",lineHeight:1.25,variants:[{props:({ownerState:e})=>e.label&&(e.iconPosition==="top"||e.iconPosition==="bottom"),style:{flexDirection:"column"}},{props:({ownerState:e})=>e.label&&e.iconPosition!=="top"&&e.iconPosition!=="bottom",style:{flexDirection:"row"}},{props:({ownerState:e})=>e.icon&&e.label,style:{minHeight:72,paddingTop:9,paddingBottom:9}},{props:({ownerState:e,iconPosition:o})=>e.icon&&e.label&&o==="top",style:{[`& > .${w.icon}`]:{marginBottom:6}}},{props:({ownerState:e,iconPosition:o})=>e.icon&&e.label&&o==="bottom",style:{[`& > .${w.icon}`]:{marginTop:6}}},{props:({ownerState:e,iconPosition:o})=>e.icon&&e.label&&o==="start",style:{[`& > .${w.icon}`]:{marginRight:t.spacing(1)}}},{props:({ownerState:e,iconPosition:o})=>e.icon&&e.label&&o==="end",style:{[`& > .${w.icon}`]:{marginLeft:t.spacing(1)}}},{props:{textColor:"inherit"},style:{color:"inherit",opacity:.6,[`&.${w.selected}`]:{opacity:1},[`&.${w.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity}}},{props:{textColor:"primary"},style:{color:(t.vars||t).palette.text.secondary,[`&.${w.selected}`]:{color:(t.vars||t).palette.primary.main},[`&.${w.disabled}`]:{color:(t.vars||t).palette.text.disabled}}},{props:{textColor:"secondary"},style:{color:(t.vars||t).palette.text.secondary,[`&.${w.selected}`]:{color:(t.vars||t).palette.secondary.main},[`&.${w.disabled}`]:{color:(t.vars||t).palette.text.disabled}}},{props:({ownerState:e})=>e.fullWidth,style:{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"}},{props:({ownerState:e})=>e.wrapped,style:{fontSize:t.typography.pxToRem(12)}}]}))),Xe=ge(function(e,o){const s=xe({props:e,name:"MuiTab"}),{className:i,disabled:a=!1,disableFocusRipple:h=!1,fullWidth:f,icon:u,iconPosition:y="top",indicator:g,label:S,onChange:m,onClick:x,onFocus:C,selected:B,selectionFollowsFocus:p,textColor:P="inherit",value:b,wrapped:D=!1,...I}=s,U={...s,disabled:a,disableFocusRipple:h,selected:B,icon:!!u,iconPosition:y,label:!!S,fullWidth:f,textColor:P,wrapped:D},j=jt(U),G=u&&S&&Ze(u)?Je(u,{className:A(j.icon,u.props.className)}):u,te=R=>{!B&&m&&m(R,b),x&&x(R)},V=R=>{p&&!B&&m&&m(R,b),C&&C(R)};return l(Gt,{focusRipple:!h,className:A(j.root,i),ref:o,role:"tab","aria-selected":B,disabled:a,onClick:te,onFocus:V,ownerState:U,tabIndex:B?0:-1,...I,children:[y==="top"||y==="start"?l(Oe,{children:[G,S]}):l(Oe,{children:[S,G]}),g]})}),Qt=we(l("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"})),Zt=we(l("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}));function Jt(t){return(1+Math.sin(Math.PI*t-Math.PI/2))/2}function eo(t,e,o,s={},i=()=>{}){const{ease:a=Jt,duration:h=300}=s;let f=null;const u=e[t];let y=!1;const g=()=>{y=!0},S=m=>{if(y){i(new Error("Animation cancelled"));return}f===null&&(f=m);const x=Math.min(1,(m-f)/h);if(e[t]=a(x)*(o-u)+u,x>=1){requestAnimationFrame(()=>{i(null)});return}requestAnimationFrame(S)};return u===o?(i(new Error("Element already at target position")),g):(requestAnimationFrame(S),g)}const to={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};function oo(t){const{onChange:e,...o}=t,s=ie(),i=ie(null),a=()=>{s.current=i.current.offsetHeight-i.current.clientHeight};return zt(()=>{const h=ot(()=>{const u=s.current;a(),u!==s.current&&e(s.current)}),f=nt(i.current);return f.addEventListener("resize",h),()=>{h.clear(),f.removeEventListener("resize",h)}},[e]),F(()=>{a(),e(s.current)},[e]),l("div",{style:to,...o,ref:i})}function no(t){return ye("MuiTabScrollButton",t)}const lo=Se("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),ro=t=>{const{classes:e,orientation:o,disabled:s}=t;return Ce({root:["root",o,s&&"disabled"]},no,e)},so=K(tt,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:o}=t;return[e.root,o.orientation&&e[o.orientation]]}})({width:40,flexShrink:0,opacity:.8,[`&.${lo.disabled}`]:{opacity:0},variants:[{props:{orientation:"vertical"},style:{width:"100%",height:40,"& svg":{transform:"var(--TabScrollButton-svgRotate)"}}}]}),io=ge(function(e,o){const s=xe({props:e,name:"MuiTabScrollButton"}),{className:i,slots:a={},slotProps:h={},direction:f,orientation:u,disabled:y,...g}=s,S=lt(),m={isRtl:S,...s},x=ro(m),C=a.StartScrollButtonIcon??Qt,B=a.EndScrollButtonIcon??Zt,p=ae({elementType:C,externalSlotProps:h.startScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:m}),P=ae({elementType:B,externalSlotProps:h.endScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:m});return l(so,{component:"div",className:A(x.root,i),ref:o,role:null,ownerState:m,tabIndex:null,...g,style:{...g.style,...u==="vertical"&&{"--TabScrollButton-svgRotate":`rotate(${S?-90:90}deg)`}},children:f==="left"?l(C,{...p}):l(B,{...P})})});function ao(t){return ye("MuiTabs",t)}const me=Se("MuiTabs",["root","vertical","list","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]),Ye=(t,e)=>t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:t.firstChild,qe=(t,e)=>t===e?t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:t.lastChild,se=(t,e,o)=>{let s=!1,i=o(t,e);for(;i;){if(i===t.firstChild){if(s)return;s=!0}const a=i.disabled||i.getAttribute("aria-disabled")==="true";if(!i.hasAttribute("tabindex")||a)i=o(t,i);else{i.focus();return}}},co=t=>{const{vertical:e,fixed:o,hideScrollbar:s,scrollableX:i,scrollableY:a,centered:h,scrollButtonsHideMobile:f,classes:u}=t;return Ce({root:["root",e&&"vertical"],scroller:["scroller",o&&"fixed",s&&"hideScrollbar",i&&"scrollableX",a&&"scrollableY"],list:["list","flexContainer",e&&"flexContainerVertical",e&&"vertical",h&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",f&&"scrollButtonsHideMobile"],scrollableX:[i&&"scrollableX"],hideScrollbar:[s&&"hideScrollbar"]},ao,u)},uo=K("div",{name:"MuiTabs",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:o}=t;return[{[`& .${me.scrollButtons}`]:e.scrollButtons},{[`& .${me.scrollButtons}`]:o.scrollButtonsHideMobile&&e.scrollButtonsHideMobile},e.root,o.vertical&&e.vertical]}})(Be(({theme:t})=>({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex",variants:[{props:({ownerState:e})=>e.vertical,style:{flexDirection:"column"}},{props:({ownerState:e})=>e.scrollButtonsHideMobile,style:{[`& .${me.scrollButtons}`]:{[t.breakpoints.down("sm")]:{display:"none"}}}}]}))),po=K("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:(t,e)=>{const{ownerState:o}=t;return[e.scroller,o.fixed&&e.fixed,o.hideScrollbar&&e.hideScrollbar,o.scrollableX&&e.scrollableX,o.scrollableY&&e.scrollableY]}})({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap",variants:[{props:({ownerState:t})=>t.fixed,style:{overflowX:"hidden",width:"100%"}},{props:({ownerState:t})=>t.hideScrollbar,style:{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}},{props:({ownerState:t})=>t.scrollableX,style:{overflowX:"auto",overflowY:"hidden"}},{props:({ownerState:t})=>t.scrollableY,style:{overflowY:"auto",overflowX:"hidden"}}]}),bo=K("div",{name:"MuiTabs",slot:"List",overridesResolver:(t,e)=>{const{ownerState:o}=t;return[e.list,e.flexContainer,o.vertical&&e.flexContainerVertical,o.centered&&e.centered]}})({display:"flex",variants:[{props:({ownerState:t})=>t.vertical,style:{flexDirection:"column"}},{props:({ownerState:t})=>t.centered,style:{justifyContent:"center"}}]}),fo=K("span",{name:"MuiTabs",slot:"Indicator"})(Be(({theme:t})=>({position:"absolute",height:2,bottom:0,width:"100%",transition:t.transitions.create(),variants:[{props:{indicatorColor:"primary"},style:{backgroundColor:(t.vars||t).palette.primary.main}},{props:{indicatorColor:"secondary"},style:{backgroundColor:(t.vars||t).palette.secondary.main}},{props:({ownerState:e})=>e.vertical,style:{height:"100%",width:2,right:0}}]}))),ho=K(oo)({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),je={},mo=ge(function(e,o){const s=xe({props:e,name:"MuiTabs"}),i=Dt(),a=lt(),{"aria-label":h,"aria-labelledby":f,action:u,centered:y=!1,children:g,className:S,component:m="div",allowScrollButtonsMobile:x=!1,indicatorColor:C="primary",onChange:B,orientation:p="horizontal",ScrollButtonComponent:P,scrollButtons:b="auto",selectionFollowsFocus:D,slots:I={},slotProps:U={},TabIndicatorProps:j={},TabScrollButtonProps:G={},textColor:te="primary",value:V,variant:R="standard",visibleScrollbar:ce=!1,...it}=s,M=R==="scrollable",k=p==="vertical",Q=k?"scrollTop":"scrollLeft",oe=k?"top":"left",ne=k?"bottom":"right",de=k?"clientHeight":"clientWidth",Z=k?"height":"width",E={...s,component:m,allowScrollButtonsMobile:x,indicatorColor:C,orientation:p,vertical:k,scrollButtons:b,textColor:te,variant:R,visibleScrollbar:ce,fixed:!M,hideScrollbar:M&&!ce,scrollableX:M&&!k,scrollableY:M&&k,centered:y&&!M,scrollButtonsHideMobile:!x},W=co(E),at=ae({elementType:I.StartScrollButtonIcon,externalSlotProps:U.startScrollButtonIcon,ownerState:E}),ct=ae({elementType:I.EndScrollButtonIcon,externalSlotProps:U.endScrollButtonIcon,ownerState:E}),[Te,dt]=T(!1),[N,Ie]=T(je),[ke,ut]=T(!1),[Pe,pt]=T(!1),[Me,bt]=T(!1),[_e,ft]=T({overflow:"hidden",scrollbarWidth:0}),ze=new Map,L=ie(null),O=ie(null),X={slots:I,slotProps:{indicator:j,scrollButtons:G,...U}},De=()=>{const n=L.current;let r;if(n){const c=n.getBoundingClientRect();r={clientWidth:n.clientWidth,scrollLeft:n.scrollLeft,scrollTop:n.scrollTop,scrollWidth:n.scrollWidth,top:c.top,bottom:c.bottom,left:c.left,right:c.right}}let d;if(n&&V!==!1){const c=O.current.children;if(c.length>0){const v=c[ze.get(V)];d=v?v.getBoundingClientRect():null}}return{tabsMeta:r,tabMeta:d}},J=fe(()=>{const{tabsMeta:n,tabMeta:r}=De();let d=0,c;k?(c="top",r&&n&&(d=r.top-n.top+n.scrollTop)):(c=a?"right":"left",r&&n&&(d=(a?-1:1)*(r[c]-n[c]+n.scrollLeft)));const v={[c]:d,[Z]:r?r[Z]:0};if(typeof N[c]!="number"||typeof N[Z]!="number")Ie(v);else{const _=Math.abs(N[c]-v[c]),H=Math.abs(N[Z]-v[Z]);(_>=1||H>=1)&&Ie(v)}}),ue=(n,{animation:r=!0}={})=>{r?eo(Q,L.current,n,{duration:i.transitions.duration.standard}):L.current[Q]=n},Re=n=>{let r=L.current[Q];k?r+=n:r+=n*(a?-1:1),ue(r)},Ee=()=>{const n=L.current[de];let r=0;const d=Array.from(O.current.children);for(let c=0;c<d.length;c+=1){const v=d[c];if(r+v[de]>n){c===0&&(r=n);break}r+=v[de]}return r},ht=()=>{Re(-1*Ee())},mt=()=>{Re(Ee())},[vt,{onChange:Le,...yt}]=Y("scrollbar",{className:A(W.scrollableX,W.hideScrollbar),elementType:ho,shouldForwardComponentProp:!0,externalForwardedProps:X,ownerState:E}),St=Rt(n=>{Le?.(n),ft({overflow:null,scrollbarWidth:n})},[Le]),[We,$e]=Y("scrollButtons",{className:A(W.scrollButtons,G.className),elementType:io,externalForwardedProps:X,ownerState:E,additionalProps:{orientation:p,slots:{StartScrollButtonIcon:I.startScrollButtonIcon||I.StartScrollButtonIcon,EndScrollButtonIcon:I.endScrollButtonIcon||I.EndScrollButtonIcon},slotProps:{startScrollButtonIcon:at,endScrollButtonIcon:ct}}}),gt=()=>{const n={};n.scrollbarSizeListener=M?l(vt,{...yt,onChange:St}):null;const d=M&&(b==="auto"&&(ke||Pe)||b===!0);return n.scrollButtonStart=d?l(We,{direction:a?"right":"left",onClick:ht,disabled:!ke,...$e}):null,n.scrollButtonEnd=d?l(We,{direction:a?"left":"right",onClick:mt,disabled:!Pe,...$e}):null,n},Ae=fe(n=>{const{tabsMeta:r,tabMeta:d}=De();if(!(!d||!r)){if(d[oe]<r[oe]){const c=r[Q]+(d[oe]-r[oe]);ue(c,{animation:n})}else if(d[ne]>r[ne]){const c=r[Q]+(d[ne]-r[ne]);ue(c,{animation:n})}}}),le=fe(()=>{M&&b!==!1&&bt(!Me)});F(()=>{const n=ot(()=>{L.current&&J()});let r;const d=_=>{_.forEach(H=>{H.removedNodes.forEach(ee=>{r?.unobserve(ee)}),H.addedNodes.forEach(ee=>{r?.observe(ee)})}),n(),le()},c=nt(L.current);c.addEventListener("resize",n);let v;return typeof ResizeObserver<"u"&&(r=new ResizeObserver(n),Array.from(O.current.children).forEach(_=>{r.observe(_)})),typeof MutationObserver<"u"&&(v=new MutationObserver(d),v.observe(O.current,{childList:!0})),()=>{n.clear(),c.removeEventListener("resize",n),v?.disconnect(),r?.disconnect()}},[J,le]),F(()=>{const n=Array.from(O.current.children),r=n.length;if(typeof IntersectionObserver<"u"&&r>0&&M&&b!==!1){const d=n[0],c=n[r-1],v={root:L.current,threshold:.99},_=be=>{ut(!be[0].isIntersecting)},H=new IntersectionObserver(_,v);H.observe(d);const ee=be=>{pt(!be[0].isIntersecting)},Ne=new IntersectionObserver(ee,v);return Ne.observe(c),()=>{H.disconnect(),Ne.disconnect()}}},[M,b,Me,g?.length]),F(()=>{dt(!0)},[]),F(()=>{J()}),F(()=>{Ae(je!==N)},[Ae,N]),Et(u,()=>({updateIndicator:J,updateScrollButtons:le}),[J,le]);const[xt,Ct]=Y("indicator",{className:A(W.indicator,j.className),elementType:fo,externalForwardedProps:X,ownerState:E,additionalProps:{style:N}}),Fe=l(xt,{...Ct});let re=0;const Bt=Lt.map(g,n=>{if(!Ze(n))return null;const r=n.props.value===void 0?re:n.props.value;ze.set(r,re);const d=r===V;return re+=1,Je(n,{fullWidth:R==="fullWidth",indicator:d&&!Te&&Fe,selected:d,selectionFollowsFocus:D,onChange:B,textColor:te,value:r,...re===1&&V===!1&&!n.props.tabIndex?{tabIndex:0}:{}})}),wt=n=>{if(n.altKey||n.shiftKey||n.ctrlKey||n.metaKey)return;const r=O.current,d=Wt($t(r));if(d?.getAttribute("role")!=="tab")return;let v=p==="horizontal"?"ArrowLeft":"ArrowUp",_=p==="horizontal"?"ArrowRight":"ArrowDown";switch(p==="horizontal"&&a&&(v="ArrowRight",_="ArrowLeft"),n.key){case v:n.preventDefault(),se(r,d,qe);break;case _:n.preventDefault(),se(r,d,Ye);break;case"Home":n.preventDefault(),se(r,null,Ye);break;case"End":n.preventDefault(),se(r,null,qe);break}},pe=gt(),[Tt,It]=Y("root",{ref:o,className:A(W.root,S),elementType:uo,externalForwardedProps:{...X,...it,component:m},ownerState:E}),[kt,Pt]=Y("scroller",{ref:L,className:W.scroller,elementType:po,externalForwardedProps:X,ownerState:E,additionalProps:{style:{overflow:_e.overflow,[k?`margin${a?"Left":"Right"}`:"marginBottom"]:ce?void 0:-_e.scrollbarWidth}}}),[Mt,_t]=Y("list",{ref:O,className:A(W.list,W.flexContainer),elementType:bo,externalForwardedProps:X,ownerState:E,getSlotProps:n=>({...n,onKeyDown:r=>{wt(r),n.onKeyDown?.(r)}})});return l(Tt,{...It,children:[pe.scrollButtonStart,pe.scrollbarSizeListener,l(kt,{...Pt,children:[l(Mt,{"aria-label":h,"aria-labelledby":f,"aria-orientation":p==="vertical"?"vertical":null,role:"tablist",..._t,children:Bt}),Te&&Fe]}),pe.scrollButtonEnd]})}),vo=we(l("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"})),yo=({deviceId:t})=>{const{t:e}=rt(["common","settings"]),{activeDevice:o,updateDeviceDetails:s,removeDevice:i}=st(),[a,h]=q(T({key:!o?.configuration_key,pin:!o?.door_pin_code}),"visibleFields"),[f,u]=q(T(o?.friendly_name||""),"deviceName"),[y,g]=q(T(o?.configuration_key||""),"configurationKey"),[S,m]=q(T(o?.door_pin_code||""),"doorPinCode");At.useEffect(()=>{o&&(u(o.friendly_name||""),g(o.configuration_key||""),m(o.door_pin_code||""))},[o]);const x=b=>{h(D=>({...D,[b]:!D[b]}))},C=async()=>{if(o)try{await s(t,{friendly_name:f,configuration_key:y,door_pin_code:S})}catch(b){console.error("Failed to update device details:",b)}},B=async()=>{if(o)try{await i(t)}catch(b){console.error("Failed to remove device:",b)}},p=b=>{const I=b.trim().toUpperCase().replace(/[^0-9A-F]/g,"").slice(-8);g(I)},P=b=>{const D=b.trim().toUpperCase();m(D)};return o?l(z,{sx:{my:2},children:[l($,{variant:"subtitle1",gutterBottom:!0,children:e("devices.title")}),l(Ft,{sx:{mb:2}}),l(Nt,{children:l(Ot,{children:l(z,{sx:{display:"flex",flexDirection:"column",gap:2},children:[l(he,{label:e("devices.device_name"),value:f,onChange:b=>u(b.currentTarget.value),fullWidth:!0,size:"small"}),o.role===Ht.Admin&&l(he,{label:e("settings:configuration_key.label"),value:y,onChange:b=>p(b.currentTarget.value),fullWidth:!0,size:"small",type:a.key?"text":"password",helperText:e("settings:configuration_key.helper"),slotProps:{input:{endAdornment:l(Ke,{position:"end",children:l(He,{"aria-label":e("settings:toggle_key_visibility"),onClick:()=>x("key"),edge:"end",size:"small",children:a.key?l(Ue,{}):l(Ve,{})})})}}}),l(he,{label:e("settings:door_pin_code"),value:S,onChange:b=>P(b.currentTarget.value),fullWidth:!0,size:"small",type:a.pin?"text":"password",slotProps:{input:{endAdornment:l(Ke,{position:"end",children:l(He,{"aria-label":e("settings:toggle_pin_visibility"),onClick:()=>x("pin"),edge:"end",size:"small",children:a.pin?l(Ue,{}):l(Ve,{})})})}}}),l(z,{sx:{display:"flex",justifyContent:"space-between",mt:2},children:[l(ve,{size:"small",color:"error",variant:"outlined",onClick:B,children:e("devices.forget")}),l(ve,{size:"small",variant:"contained",onClick:C,children:e("save")})]})]})})})]}):null};function Ge(t){const{children:e,value:o,index:s,...i}=t;return l("div",{role:"tabpanel",hidden:o!==s,id:`my-boks-tabpanel-${s}`,"aria-labelledby":`my-boks-tab-${s}`,...i,children:o===s&&l(z,{sx:{p:3},children:e})})}function Qe(t){return{id:`my-boks-tab-${t}`,"aria-controls":`my-boks-tabpanel-${t}`}}const xo=()=>{const{t}=rt(["common","codes","logs","settings"]),{activeDevice:e,knownDevices:o,setActiveDevice:s}=st(),{isConnected:i}=Kt(),a=Ut(),[h,f]=q(T(0),"value"),[u,y]=q(T(null),"selectedDeviceId");F(()=>{const P=new URLSearchParams(a.search).get("tab"),b=setTimeout(()=>{switch(P){case"settings":f(0);break;case"users":f(1);break;default:f(0);break}},0);return()=>clearTimeout(b)},[a.search]),F(()=>{(!e||!o.some(p=>p.id===e.id))&&u!==null&&setTimeout(()=>y(null),0)},[e,o,u]);const g=(p,P)=>{f(P)},S=p=>{y(p),s(p)},m=()=>{y(null),s(null)},x=o.length>1&&!u&&!e;let C=t("common:my_boks");return e&&o.length===1||e&&o.length>1?C=e.friendly_name||e.ble_name:!e&&o.length===1&&(C=o[0].friendly_name||o[0].ble_name),x?l(z,{sx:{p:3},children:[l($,{variant:"h5",gutterBottom:!0,children:t("common:my_boks")}),l(Vt,{children:o.map(p=>l(Xt,{onClick:()=>S(p.id),sx:{cursor:"pointer"},children:l(Yt,{primary:p.friendly_name||p.ble_name,secondary:p.ble_name})},p.id))})]}):e||o.find(p=>p.id===u)||(o.length===1?o[0]:null)?l(z,{sx:{width:"100%"},children:[l(z,{sx:{p:3,borderBottom:1,borderColor:"divider"},children:[o.length>1&&l(ve,{startIcon:l(vo,{}),onClick:m,sx:{mb:1},children:t("common:back_to_list")}),l($,{variant:"h4",component:"h1",gutterBottom:!0,children:C}),l($,{variant:"subtitle1",color:"textSecondary",children:t(i?"common:connected":"common:disconnected")})]}),l(z,{sx:{borderBottom:1,borderColor:"divider"},children:l(mo,{value:h,onChange:g,"aria-label":"my boks tabs",children:[l(Xe,{label:t("settings:title"),...Qe(0)}),l(Xe,{label:t("common:users.title"),...Qe(1)})]})}),l(Ge,{value:h,index:0,children:l(yo,{deviceId:e?.id||""})}),l(Ge,{value:h,index:1,children:l(z,{sx:{p:3},children:[l($,{variant:"h6",children:t("common:users.title")}),l($,{variant:"body1",color:"textSecondary",children:t("common:coming_soon")})]})})]}):l(z,{sx:{p:3},children:[l($,{variant:"h5",children:t("common:my_boks")}),l($,{variant:"body1",color:"textSecondary",children:t("common:no_active_device")})]})};export{xo as MyBoksPage};
